(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{2023:function(e,t,a){"use strict";a.d(t,"a",(function(){return I}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(7),i=a.n(l),s=a(12),u=a.n(s),m=a(13),d=a.n(m),p=a(8),b=a.n(p),g=a(5),f=a.n(g),h=a(1),v=a.n(h),O=a(0),E=a.n(O),y=a(973),j=a(302),_=a(821),C=a(198),S=a(40),w=a(3),P=a(112);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var N="tile content published",I=function(e){u()(a,e);var t=k(a);function a(){var e;r()(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),f()(i()(e),"generateSum",(function(e,t){return t.value+e})),f()(i()(e),"isContentTypeEnabled",(function(t){return{pages:e.props.hasPages,events:e.props.hasEvents,albums:e.props.hasAlbums,blogPosts:e.props.hasBlogPosts}[t]})),f()(i()(e),"renderInner",(function(t){var a=t.result,n=t.setFrom,r=t.setTo,c=t.setRange,o=t.from,l=t.to,i=t.range,s=t.loading,u=e.props,m=u.brandColor,d=u.colSpan,p=u.hasBlogPosts,b=u.siteId,g=Object(S.a)(i),f=E.a.createElement(j.a,{from:o,to:l,onFromChange:n,onToChange:r,setRange:c,initialValue:g,additionalText:E.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(w.a)("site.analytics.tile_title.content_published")),onDropdownChange:function(e){return Object(S.e)(N,e)}}),h=[{label:Object(w.a)("common.page_plural"),value:a&&a.data.pages,isEnabled:e.isContentTypeEnabled("pages")},{label:Object(w.a)("common.event_plural"),value:a&&a.data.events,isEnabled:e.isContentTypeEnabled("events")},{label:Object(w.a)("common.album_plural"),value:a&&a.data.albums,isEnabled:e.isContentTypeEnabled("albums")},{label:Object(w.a)("common.blog_post_plural"),value:a&&a.data.blogPosts,isEnabled:p}].filter((function(e){return e.isEnabled})),v=h.reduce(e.generateSum,0);return E.a.createElement(P.a,{header:f,isLoading:s,hasResults:!!a,colSpan:d},a&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"u-marg-b--medium"},E.a.createElement(_.a,{totalCount:v,data:h,brandColor:m})),E.a.createElement("div",{className:"AnalyticsTile-viewsFooter"},E.a.createElement(C.a,{onClick:function(){b?Object(S.h)(N):Object(S.f)("Content - ".concat(N))},url:a.csvUrl}))))})),e}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range;return E.a.createElement(y.a,{siteId:t,range:a},this.renderInner)}}]),a}(E.a.PureComponent);f()(I,"propTypes",{siteId:v.a.string,hasBlogPosts:v.a.bool,hasPages:v.a.bool,hasEvents:v.a.bool,hasAlbums:v.a.bool}),f()(I,"defaultProps",{hasBlogPosts:!1,hasPages:!1,hasEvents:!1,hasAlbums:!1})},2024:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(7),i=a.n(l),s=a(12),u=a.n(s),m=a(13),d=a.n(m),p=a(8),b=a.n(p),g=a(5),f=a.n(g),h=a(1),v=a.n(h),O=a(0),E=a.n(O),y=a(2025),j=a(374),_=a(302),C=a(198),S=a(383),w=a(40),P=a(42),k=a(3),N=a(112);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var R="tile type of view",A=function(e){u()(a,e);var t=I(a);function a(){var e;r()(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),f()(i()(e),"renderInner",(function(t){var a=t.result,n=t.loading,r=t.setFrom,c=t.setTo,o=t.setRange,l=t.from,i=t.to,s=t.range,u=e.props,m=u.colSpan,d=u.hasPages,p=u.hasEvents,b=u.hasAlbums,g=u.hasBlogPosts,f=u.siteId,h=a?a.data:{},v=h.pageViewCount,O=void 0===v?0:v,y=h.eventViewCount,I=void 0===y?0:y,A=h.albumViewCount,x=void 0===A?0:A,M=h.blogPostViewCount,D=void 0===M?0:M,T=h.averageViewsPerPageCount,F=void 0===T?0:T,L=h.averageViewsPerEventCount,q=void 0===L?0:L,B=h.averageViewsPerAlbumCount,U=void 0===B?0:B,V=h.averageViewsPerBlogPostCount,z=void 0===V?0:V,G=Object(w.a)(s),W=O+I+x+D;return E.a.createElement(N.a,{header:E.a.createElement(_.a,{from:l,to:i,onFromChange:r,onToChange:c,setRange:o,initialValue:G,additionalText:E.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(k.a)("analytics.tile_title.content_views_by_type")),onDropdownChange:function(e){return Object(w.e)(R,e)}}),isLoading:n,hasResults:!!a,colSpan:m},a&&E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:"u-marg-b--xsmall"},E.a.createElement("div",{className:"AnalyticsTile-simpleChartheader u-textCenter"},E.a.createElement("div",{className:"AnalyticsTile-note"},Object(k.a)("analytics.total_content_views")),E.a.createElement("h1",{className:"AnalyticsTile-heading u-marg-t--small"},Object(P.c)(W))),E.a.createElement(j.a,{data:[d&&{id:"pages",name:E.a.createElement("strong",null,Object(k.a)("common.page_plural")),viewCount:Object(P.b)(O,W)},p&&{id:"events",name:E.a.createElement("strong",null,Object(k.a)("common.event_plural")),viewCount:Object(P.b)(I,W)},b&&{id:"albums",name:E.a.createElement("strong",null,Object(k.a)("common.album_plural")),viewCount:Object(P.b)(x,W)},g&&{id:"blogs",name:E.a.createElement("strong",null,Object(k.a)("common.blog_post_plural")),viewCount:Object(P.b)(D,W)}].filter((function(e){return!!e}))})),E.a.createElement("div",{className:"u-marg-t--auto"},E.a.createElement("h2",{className:"type--b3 type--secondary type--500 u-textCenter u-marg-b--medium"},Object(k.a)("analytics.avg_views_per_content_type")),E.a.createElement(S.a,{items:[d&&{name:Object(k.a)("common.page_plural"),value:Object(P.c)(F,1)},p&&{name:Object(k.a)("common.event_plural"),value:Object(P.c)(q,1)},b&&{name:Object(k.a)("common.album_plural"),value:Object(P.c)(U,1)},g&&{name:Object(k.a)("common.blog_post_plural"),value:Object(P.c)(z,1)}].filter((function(e){return!!e}))})),E.a.createElement("div",{className:"AnalyticsTile-viewsFooter u-marg-t--medium"},E.a.createElement(C.a,{onClick:function(){f?Object(w.h)(R):Object(w.f)("Content - ".concat(R))},url:a.csvUrl}))))})),e}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range;return E.a.createElement(y.a,{siteId:t,range:a},this.renderInner)}}]),a}(E.a.PureComponent);f()(A,"propTypes",{siteId:v.a.string,hasBlogPosts:v.a.bool,hasPages:v.a.bool,hasEvents:v.a.bool,hasAlbums:v.a.bool,colSpan:v.a.number}),f()(A,"defaultProps",{hasBlogPosts:!1,hasPages:!1,hasEvents:!1,hasAlbums:!1})},2025:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return y}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(92);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var y=function(t){i()(n,t);var a=E(n);function n(){return r()(this,n),a.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,a=t.siteId,n=t.range,r=t.from,c=t.to,o=t.children;return v.a.createElement(O.a,{endpoint:e.Simpplr.Salesforce.Analytics.getContentViewsByType,params:a?{siteId:a}:void 0,range:n,from:r,to:c},o)}}]),n}(v.a.Component);b()(y,"propTypes",{children:f.a.func.isRequired,range:f.a.number,from:f.a.string,to:f.a.string,siteId:f.a.string})}).call(this,a(27))},2026:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(408),E=a(176),y=a(42),j=a(3);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var C=function(e){i()(a,e);var t=_(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.brandColor,n=e.totalCount,r=e.chartHeight;return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{className:"AnalyticsTile-simpleChartheader u-textCenter"},v.a.createElement("div",{className:"AnalyticsTile-note"},Object(j.a)("site.analytics.currently_published.title")),v.a.createElement("h1",{className:"AnalyticsTile-heading AnalyticsTile-heading--small u-marg-t--small"},t.length>1?Object(j.a)("site.analytics.content_published.title",{count:n,formattedCount:Object(y.c)(n)}):"".concat(Object(y.c)(n)," ").concat(t[0].label))),t.length>0&&v.a.createElement("div",{className:"AnalyticsTile-simpleChartContainer"},v.a.createElement(O.a,{height:r,type:"bar",data:Object(E.c)({legend:Object(j.a)("content.analytics.content_items.legend"),data:t},a),options:{scales:{xAxes:[{gridLines:{display:!1},ticks:{autoSkip:!1,fontStyle:"bold"},barPercentage:1.05}],yAxes:[{gridLines:{display:!1,drawBorder:!1},ticks:{display:!1,beginAtZero:!0}}]}}})))}}]),a}(v.a.PureComponent);b()(C,"propTypes",{brandColor:f.a.string.isRequired,totalCount:f.a.number,data:f.a.arrayOf(f.a.shape({})),chartHeight:f.a.number}),b()(C,"defaultProps",{data:[],totalCount:0,chartHeight:270})},2027:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(31),r=a.n(n),c=a(10),o=a.n(c),l=a(11),i=a.n(l),s=a(7),u=a.n(s),m=a(12),d=a.n(m),p=a(13),b=a.n(p),g=a(8),f=a.n(g),h=a(5),v=a.n(h),O=a(1),E=a.n(O),y=a(0),j=a.n(y),_=a(2028),C=a(374),S=a(302),w=a(198),P=a(40),k=a(42),N=a(3),I=a(112);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=f()(e);if(t){var r=f()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return b()(this,a)}}var A="Tile knowledge pages",x=function(e){d()(a,e);var t=R(a);function a(){var e;o()(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),v()(u()(e),"dataToView",(function(e){return{id:e.label,name:j.a.createElement("strong",null,e.label),viewCount:Object(k.c)(e.value)}})),v()(u()(e),"renderInner",(function(t){var a=t.result,n=t.setFrom,c=t.setTo,o=t.setRange,l=t.from,i=t.to,s=t.range,u=t.loading,m=e.props,d=m.colSpan,p=m.columnCount,b=m.sliceCount,g=m.siteId,f=a&&a.data.map(e.dataToView),h=Object(P.a)(s),v=j.a.createElement(S.a,{from:l,to:i,onFromChange:n,onToChange:c,setRange:o,initialValue:h,additionalText:j.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(N.a)("analytics.content_tiles.title.knowledge_pages")),onDropdownChange:function(e){return Object(P.e)(A,e)}});return j.a.createElement(I.a,{header:v,isLoading:u,hasResults:!!a,colSpan:d},a&&j.a.createElement(j.a.Fragment,null,j.a.createElement("div",{className:"AnalyticsTile-inner-colSplit"},r()(new Array(p).keys()).map((function(e){return j.a.createElement(C.a,{key:e,data:f.splice(0,b)})}))),j.a.createElement("div",{className:"AnalyticsTile-footer"},j.a.createElement(w.a,{onClick:function(){g?Object(P.h)(A):Object(P.f)("Content - ".concat(A))},url:a.csvUrl}))))})),e}return i()(a,[{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range;return j.a.createElement(_.a,{siteId:t,range:a},this.renderInner)}}]),a}(j.a.PureComponent);v()(x,"propTypes",{sliceCount:E.a.number,columnCount:E.a.number}),v()(x,"defaultProps",{sliceCount:3,columnCount:2})},2028:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return y}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(92);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var y=function(t){i()(n,t);var a=E(n);function n(){return r()(this,n),a.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,a=t.range,n=t.from,r=t.to,c=t.siteId,o=t.children,l={};return c&&(l.siteId=c),v.a.createElement(O.a,{endpoint:e.Simpplr.Salesforce.Analytics.getKnowledgePageStats,range:a,from:n,to:r,params:l},o)}}]),n}(v.a.Component);b()(y,"propTypes",{children:f.a.func.isRequired,range:f.a.number,from:f.a.string,to:f.a.string,siteId:f.a.string}),b()(y,"defaultProps",{siteId:null})}).call(this,a(27))},2029:function(e,t,a){"use strict";a.d(t,"a",(function(){return F}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(7),i=a.n(l),s=a(12),u=a.n(s),m=a(13),d=a.n(m),p=a(8),b=a.n(p),g=a(5),f=a.n(g),h=a(15),v=a.n(h),O=a(1),E=a.n(O),y=a(0),j=a.n(y),_=a(1258),C=a(408),S=a(302),w=a(198),P=a(383),k=a(296),N=a(40),I=a(176),R=a(32),A=a(42),x=a(3),M=a(112);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var T="Tile Engagement",F=function(e){u()(a,e);var t=D(a);function a(){var e;r()(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),f()(i()(e),"generateSum",(function(e,t){return t.value+e})),f()(i()(e),"renderInner",(function(t){var a=t.result,n=t.setFrom,r=t.setTo,c=t.setRange,o=t.from,l=t.to,i=t.range,s=t.loading,u=e.props,m=u.siteId,d=u.brandColor,p=u.hasContent,b=u.colSpan,g=u.showDatePicker,f=u.hasLargeChart,h=u.feedMode,O=Object(I.f)(h!==k.d.TIMELINE),E=a&&Object.keys(a.data).filter(O).sort(Object(I.g)()),y=m?p?"posts":"comments":"posts_and_comments",_=E&&E.map((function(t){return{name:"comments"===t?Object(x.a)("site.analytics.engagement.title.".concat(y)):Object(x.a)("site.analytics.engagement.title.".concat(t)),value:a&&Object(A.c)(a.data[t].reduce(e.generateSum,0))}})),D=E&&E.map((function(e,t){return{legend:_[t].name,data:a.data[e]}})),F=Object(N.a)(i),L=g?j.a.createElement(S.a,{from:o,minDate:a&&a.data&&a.data.trackingStartdate&&Object(R.j)(a.data.trackingStartdate).toDate(),to:l,onFromChange:n,onToChange:r,setRange:c,initialValue:F,additionalText:j.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(x.a)("site.analytics.tile_title.engagement")),onDropdownChange:function(e){return Object(N.e)(T,e)}}):j.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(x.a)("site.analytics.tile_title.engagement")),q=v()({"AnalyticsTile-chartContainer":!0,"AnalyticsTile-chartContainer--large":f});return j.a.createElement(M.a,{header:L,isLoading:s,hasResults:!!a,colSpan:b},a&&j.a.createElement(j.a.Fragment,null,!m&&j.a.createElement("p",{className:"type--secondary u-textCenter u-pad-b--mediumlarge"},Object(x.a)("analytics.engagement_tiles.engagement_tile.help_label")),j.a.createElement("div",{className:"AnalyticsTile-statsContainer"},j.a.createElement(P.a,{items:_})),j.a.createElement("div",{className:q},j.a.createElement(C.a,{data:Object(I.a)(D,d),type:"bar",isStacked:!0,showLegend:!0})),j.a.createElement("div",{className:"AnalyticsTile-viewsFooter"},j.a.createElement(w.a,{onClick:function(){m?Object(N.h)(T):Object(N.f)(T)},url:a.csvUrl}))))})),e}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range,n=e.from,r=e.to,c=e.filterBy,o=e.filterValue;return j.a.createElement(_.a,{siteId:t,range:a,from:n,to:r,filterBy:c,filterValue:o},this.renderInner)}}]),a}(j.a.PureComponent);f()(F,"propTypes",{feedMode:E.a.string.isRequired,siteId:E.a.string,brandColor:E.a.string,showDatePicker:E.a.bool,hasLargeChart:E.a.bool}),f()(F,"defaultProps",{showDatePicker:!0,hasLargeChart:!1})},2221:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2224:function(e,t,a){var n=a(316),r=a(2221),c=a(2225),o=a(210);e.exports=function(e,t){return t=n(t,e),null==(e=c(e,t))||delete e[o(r(t))]}},2225:function(e,t,a){var n=a(376),r=a(635);e.exports=function(e,t){return t.length<2?e:n(e,r(t,0,-1))}},2575:function(e,t,a){"use strict";var n=a(5),r=a.n(n),c=a(15),o=a.n(c),l=a(1),i=a.n(l),s=a(0),u=a.n(s);function m(e){var t=e.heading,a=e.legendHeading,n=e.intro,c=e.fieldSpacing,l=e.children,i=e.hasAbsoluteHeader,s=e.hasTopBorder,m=e.hasBoldHeading,d=e.addLegend,p=o()({"FormPanel-heading":!0,"type--500":m});var b=u.a.createElement("header",{className:o()(r()({"FormPanel-header":!0,"u-hideIfEmpty":!0,"u-posAbsolute":i},"u-marg-b--".concat(c),!!c))},t?u.a.createElement("h2",{className:p},t):a?u.a.createElement("legend",null,u.a.createElement("h2",{className:p},a)):null,n&&u.a.createElement("div",{className:"FormPanel-intro"},n));d&&u.a.Children.toArray(l).length>1&&console.warn("You cannot use addLegend={true} prop if the children of Panel are more than one.");var g=u.a.createElement(u.a.Fragment,null,!d&&b,u.a.Children.toArray(l).filter((function(e){return!!e})).map((function(e,t){return u.a.createElement("div",{className:"FormPanel-field u-marg-b--".concat(c),key:e.key||t},d?u.a.cloneElement(e,{legend:b}):e)})));return u.a.createElement("div",{className:o()({FormPanel:!0,"FormPanel--noTopBorder":!s})},a?u.a.createElement("fieldset",null,g):g)}m.propTypes={heading:i.a.node,intro:i.a.node,children:i.a.node,fieldSpacing:i.a.oneOf(["small","medium","large","xlarge"]),hasAbsoluteHeader:i.a.bool,hasTopBorder:i.a.bool,addLegend:i.a.bool},m.defaultProps={fieldSpacing:"xlarge",hasAbsoluteHeader:!1,hasTopBorder:!0,addLegend:!1},t.a=m},2590:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return E}));var n=a(20),r=a.n(n),c=a(5),o=a.n(c),l=a(34),i=a.n(l),s=a(480),u=a.n(s),m=a(1),d=a.n(m),p=a(0),b=a.n(p),g=(a(141),a(1012)),f=a(1252);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){var t=e.endpoint,a=e.defaultParams,n=e.valueField,c=e.labelField,o=e.itemFactory,l=e.excluded,s=void 0===l?[]:l,u=e.getItemsFromResponse,m=void 0===u?function(e){return e.result.listOfItems}:u;return function(){var e=i()(r.a.mark((function e(l){var i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.trim(),e.next=3,Object(f.b)(t,v(v({},a),{},{term:i,size:9999}));case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",m(u).filter((function(e){return!s.includes(e[n])})).map((function(e){return{value:e[n],label:e[c],item:o(e)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function E(e){var t=e.endpoint,a=e.valueField,n=e.labelField,c=e.itemFactory,o=e.getItemFromResponse,l=void 0===o?function(e){return e.result}:o;return function(){var e=i()(r.a.mark((function e(o){var i,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Array.isArray(o)?o:[o],e.next=3,Promise.all(i.map((function(e){return Object(f.b)(t,e)})));case 3:if(s=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",s.map(l).filter((function(e){return!!e})).map((function(e){return{value:e[a],label:e[n],item:c(e)}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function y(e){var t=e.load,a=e.loadInitialOptions,n=e.makeOption,r=e.canCreate,c=e.isMulti,o=e.placeholder,l=e.icon,i=e.inputId,s=e.renderOption,m=e.isOptionDisabled,d=e.value,f=e.onChange,h=e.onBlur,v=e.onFocus,O=e.isDisabled,E=e.isValueModel,y=e.createItem,j=e.isValidNewOption,_=e.autoFocus,C=e.isLegacyIcon,S=e.isReduxForm,w=e.hasClearButton,P=e.cacheOptions,k=e.defaultOptions,N=u()(Object(p.useCallback)((function(e,a){t(e).then(a)}),[t]),250);return b.a.createElement(g.a,{loadOptions:N,loadInitialOptions:a,isMulti:c,defaultOptions:k,canCreate:r,makeOption:n,hasClearButton:w,cacheOptions:P,placeholder:o,renderOption:s,inputId:i,icon:l,value:d,onChange:f,onFocus:v,onBlur:h,isDisabled:O,isOptionDisabled:m,isValueModel:E,createItem:y,isValidNewOption:j,autoFocus:_,isLegacyIcon:C,isReduxForm:S})}y.propTypes={load:d.a.func.isRequired,makeOption:d.a.func.isRequired,canCreate:d.a.bool,isMulti:d.a.bool,isValueModel:d.a.bool,cacheOptions:d.a.bool,isDisabled:d.a.bool,isOptionDisabled:d.a.func,placeholder:d.a.string,icon:d.a.string,value:d.a.oneOfType([d.a.string,d.a.shape({}),d.a.arrayOf(d.a.string),d.a.arrayOf(d.a.shape({}))]),onChange:d.a.func,onBlur:d.a.func,onFocus:d.a.func,inputId:d.a.string,isValidNewOption:d.a.func,autoFocus:d.a.bool,isLegacyIcon:d.a.bool,isReduxForm:d.a.bool,hasClearButton:d.a.bool},y.defaultProps={canCreate:!1,isMulti:!1,icon:"search",isLegacyIcon:!1,isReduxForm:!1,hasClearButton:!1,cacheOptions:!0},t.c=y},2591:function(e,t,a){"use strict";var n=a(16),r=a.n(n),c=a(5),o=a.n(c),l=a(71),i=a.n(l),s=a(1),u=a.n(s),m=a(0),d=a.n(m),p=a(123),b=a(380);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e){e.icon;var t=i()(e,["icon"]),a=t.id,n=t.pickerComponent,c=t.input,o=t.placeholder,l=t.isMulti,s=t.defaultParams,u=(t.isStaticLabel,t.isValueModel),m=t.isDisabled,g=t.valueField,h=t.isOptionDisabled,v=t.canCreate,O=t.excluded,E=t.autoFocus,y=t.renderOption,j=t.makeOption,_=t.meta,C=t.hasClearButton,S=t.cacheOptions,w=t.isLegacyIcon,P=t.defaultOptions,k="".concat(Object(p.a)(a,c),"_input");return d.a.createElement(b.a,r()({inputType:"reactSelect",id:k},t),d.a.createElement(n,{isMulti:l,placeholder:o,isValueModel:u,input:f({},c),meta:_,valueField:g,renderOption:y,makeOption:j,inputId:k,cacheOptions:S,isDisabled:m,isOptionDisabled:h,defaultParams:s,excluded:O,canCreate:v,autoFocus:E,hasClearButton:C,isLegacyIcon:w,defaultOptions:P}))}h.propTypes={pickerComponent:u.a.elementType.isRequired,isValueModel:u.a.bool,canCreate:u.a.bool,autoFocus:u.a.bool,meta:u.a.shape({}),hasClearButton:u.a.bool,isStaticLabel:u.a.bool,cacheOptions:u.a.bool,renderOption:u.a.func,isOptionDisabled:u.a.func,defaultOptions:u.a.bool},h.defaultProps={autoFocus:!1,hasClearButton:!1,isStaticLabel:!0,cacheOptions:!0,defaultOptions:!1},t.a=h},2598:function(e,t,a){"use strict";var n=a(16),r=a.n(n),c=a(65),o=a.n(c),l=a(0),i=a.n(l);t.a=function(e){return function(t){if(!t.location)return i.a.createElement(e,t);var a=t.location,n=a.search.substr(1);return a.query=o.a.parse(n),i.a.createElement(e,r()({},t,{location:a}))}}},2604:function(e,t,a){"use strict";var n=a(16),r=a.n(n),c=a(71),o=a.n(c),l=a(0),i=a.n(l),s=a(36),u=a(190);t.a=function(e){var t=e.render,a=e.component,n=e.title,c=e.name,m=o()(e,["render","component","title","name"]),d=Object(l.useCallback)((function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{name:c,text:n}),a?i.a.createElement(a,e):t(e))}),[c,n,t,a]);return i.a.createElement(s.c,r()({},m,{render:d}))}},2605:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n={MANAGE_SITES_PEOPLE:"MANAGE_SITES_PEOPLE",SITE_ABOUT:"SITE_ABOUT"},r={MANAGERS:"managers",FOLLOWERS:"followers",MEMBERS:"members",REQUESTS:"requests",PEOPLE_SEARCH:"people-search",REQUESTS_SEARCH:"requests-search"}},2623:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(16),r=a.n(n),c=a(0),o=a.n(c),l=a(2651),i=a(2591);function s(e){return o.a.createElement(i.a,r()({},e,{pickerComponent:l.a}))}},2624:function(e,t,a){e.exports={item:"ConnectedServices-module-item___2HPVS",isDisabled:"ConnectedServices-module-isDisabled___1plOe",inner:"ConnectedServices-module-inner___2o8NM",itemNoBorder:"ConnectedServices-module-itemNoBorder___7s55V",thumbnailContainer:"ConnectedServices-module-thumbnailContainer___1lHZd",thumbnailContainerCompact:"ConnectedServices-module-thumbnailContainerCompact___3uMpA",main:"ConnectedServices-module-main___3taf3",text:"ConnectedServices-module-text___3blI0",form:"ConnectedServices-module-form___13CC7",buttonContainer:"ConnectedServices-module-buttonContainer___3xEhP"}},2639:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(2624),i=a.n(l),s=a(50),u=a(3);function m(e){var t=e.onClick;return o.a.createElement("button",{type:"button",onClick:t,className:i.a.buttonContainer},o.a.createElement("img",{src:"".concat(s.b,"/google-signin-2x.png"),alt:Object(u.a)("common.connect")}))}m.propTypes={onClick:r.a.func.isRequired},t.a=m},2640:function(e,t,a){"use strict";var n=a(5),r=a.n(n),c=a(15),o=a.n(c),l=a(1),i=a.n(l),s=a(0),u=a.n(s),m=a(53),d=a(220),p=a(2639),b=a(1001),g=a(857),f=a(3),h=a(2624),v=a.n(h),O=a(2674);function E(e){var t=e.isConnected,a=e.renderDisconnectButton,n=e.renderConnectButton,r=e.isRenderedByExternalApp,c=e.isCurrentUser,o=u.a.createElement("div",{className:v.a.buttonContainer},t?a():n());return!r||c?o:null}function y(e){var t,a=e.name,n=e.img,c=e.href,l=e.title,i=e.help,s=e.isConnected,h=e.isAdmin,y=e.isSiteOwner,j=e.isDisabled,_=e.connectedAs,C=e.changeUrl,S=e.type,w=e.form,P=e.showConnect,k=e.showDisconnect,N=e.onEnable,I=e.body,R=e.disconnectComponent,A=e.connectedTo,x=e.showWarning,M=e.isCurrentUser,D=e.isRenderedByExternalApp,T=e.isCompactThumbnail,F=e.secondaryTitle,L=o()((t={Image:!0},r()(t,v.a.thumbnailContainer,!0),r()(t,v.a.thumbnailContainerCompact,!!T),t)),q=function(){return Object(g.a)(a,h?"admin":"user")},B=c?u.a.createElement(m.a,{to:c},u.a.createElement("div",{className:L},u.a.createElement("img",{src:n,alt:""}))):u.a.createElement("div",{className:L},u.a.createElement("img",{src:n,alt:""})),U=Object(g.c)(a);var V=j?[v.a.isDisabled]:"";return u.a.createElement("li",{className:"".concat(v.a.item," ").concat(V)},u.a.createElement("div",{className:v.a.inner},B,u.a.createElement("div",{className:v.a.main},u.a.createElement("div",{className:v.a.text},u.a.createElement("h2",{className:"type--h5 type--500 u-inlineBlock"},l),F&&u.a.createElement("span",null,F),I&&u.a.createElement("p",null,I),s&&_&&u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,Object(f.a)("my_settings.apps.connected_as",{email:_}),C&&u.a.createElement("a",{className:"u-marg-l--xsmall",href:C},Object(f.a)("button_label.change"))),A&&u.a.createElement("p",null,Object(f.a)("my_settings.apps.connected_to",{connectedLink:A}))),i&&u.a.createElement("p",{className:"type--secondary"},i),N&&u.a.createElement("p",null,u.a.createElement(d.a,{onClick:N},Object(f.a)("button_label.enable")))),u.a.createElement(E,{isConnected:s,renderDisconnectButton:function(){return k?R||u.a.createElement(O.a,{name:a,type:S,isAdmin:h,isSiteOwner:y},(function(e){return u.a.createElement("button",{type:"button",className:"Button",onClick:e},u.a.createElement("span",{className:"Button-text"},Object(f.a)("button_label.disconnect_account")))})):null},renderConnectButton:function(){return P?U?u.a.createElement(p.a,{onClick:q}):u.a.createElement("button",{type:"button",className:"Button",onClick:q},u.a.createElement("span",{className:"Button-text"},Object(f.a)("button_label.connect_account"))):null},isRenderedByExternalApp:D,isCurrentUser:M}))),w&&u.a.createElement("div",{className:v.a.form},w),x&&!s&&(A||!h)&&u.a.createElement("div",{className:"u-marg-t--mediumlarge"},u.a.createElement(b.a,{type:"warning",hasContentStyles:!1,size:"small"},Object(f.a)("atlassian.user.level.connect_vpn_warning"))))}y.propTypes={name:i.a.string.isRequired,title:i.a.string.isRequired,type:i.a.oneOf(["fileProvider","social","slack","salesforce","teams","googleProvider","atlassian","sharepoint"]).isRequired,isConnected:i.a.bool,isAdmin:i.a.bool,isSiteOwner:i.a.bool,isDisabled:i.a.bool,help:i.a.oneOfType([i.a.string,i.a.bool]),connectedAs:i.a.string,changeUrl:i.a.string,form:i.a.node,body:i.a.node,showConnect:i.a.bool,showDisconnect:i.a.bool,onEnable:i.a.func,disconnectComponent:i.a.node,showWarning:i.a.bool,isCompactThumbnail:i.a.bool,secondaryTitle:i.a.string},y.defaultProps={showConnect:!0,showDisconnect:!0,showWarning:!1,isAdmin:!1,isSiteOwner:!1,isCompactThumbnail:!1},t.a=y},2641:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a.n(n);function c(e){var t=e.children;return r.a.createElement("ul",null,t)}},2642:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(4),r=a.n(n),c=a(19),o=function(e,t){return e.getIn(["managePeople",t,"results"],new r.a.Map)},l=function(e,t){return e.getIn(["managePeople",t,"type"])},i=(Object(c.a)([function(e,t){return e.getIn(["managePeople",t],new r.a.Map)}],(function(e){return{loaded:e.get("loaded",!1),loading:e.get("loading",!1),result:e.get("results",new r.a.List)}})),Object(c.a)([o,function(e,t,a){return new r.a.List(a)}],(function(e,t){return t.map((function(t){return e.find((function(e){return e.peopleId===t}))})).filter((function(e){return!!e}))}))),s=(Object(c.a)([o,function(e,t,a){return a}],(function(e,t){return e.find((function(e){return e.peopleId===t}))})),Object(c.a)([function(e,t){return e.getIn(["siteRequests",t,"results"],new r.a.Map)},function(e,t,a){return new r.a.List(a)}],(function(e,t){return e.map((function(e){return t.includes(e.requestedByPeopleId)?e:void 0})).filter((function(e){return!!e}))}))),u=Object(c.a)([i,s,function(e,t,a){return new r.a.List(a)}],(function(e,t){return t.map((function(t){return{user:e.find((function(e){var a=e.peopleId;return t.requestedByPeopleId===a})),request:t}}))})),m=function(e,t){return e.getIn(["managePeople",t,"peopleStats"],new r.a.Map)}},2651:function(e,t,a){"use strict";(function(e){var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(661),i=a(35),s=a(2590);function u(t){var a=t.isMulti,n=t.isValueModel,r=t.placeholder,c=t.icon,l=t.inputId,u=t.valueField,m=t.input,d=void 0===m?{}:m,p=t.defaultParams,b=t.excluded,g=void 0===b?[]:b,f=t.isDisabled,h=t.hasClearButton,v=t.makeOption,O=t.renderOption,E=t.isOptionDisabled,y=t.load,j=t.loadInitialOptions,_=t.cacheOptions,C=t.isLegacyIcon,S=y||Object(s.a)({endpoint:e.Simpplr.Salesforce.User.search,defaultParams:p,valueField:u,labelField:"name",itemFactory:i.e,excluded:g}),w=j||Object(s.b)({endpoint:e.Simpplr.Salesforce.User.get,valueField:u,labelField:"name",itemFactory:i.e});return o.a.createElement(s.c,{isMulti:a,isValueModel:n,hasClearButton:h,placeholder:r,icon:c,isLegacyIcon:C,inputId:l,load:S,loadInitialOptions:w,makeOption:v,renderOption:O,isOptionDisabled:E,value:d.value,onChange:d.onChange,onBlur:d.onBlur,onFocus:d.onFocus,cacheOptions:_,isDisabled:f})}u.propTypes={isMulti:r.a.bool,isValueModel:r.a.bool,hasClearButton:r.a.bool,placeholder:r.a.string,icon:r.a.string,valueField:r.a.string,cacheOptions:r.a.bool,defaultParams:r.a.shape({}),makeOption:r.a.func,renderOption:r.a.func,isOptionDisabled:r.a.func},u.defaultProps={isMulti:!1,icon:"search",defaultParams:{},valueField:"peopleId",cacheOptions:!0,makeOption:function(e){return{value:e.peopleId,label:e.name,item:e}},renderOption:function(e){var t=e.data.item;return o.a.createElement(l.a,{user:t})}},t.a=u}).call(this,a(27))},2674:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(165),i=a(301),s=a(52),u=a(857),m=a(3);function d(e){var t,a,n=e.name,r=e.isAdmin,c=e.isSiteOwner,d=e.type,p=e.children,b=e.disconnectHandler,g=e.siteId,f=void 0===g?"":g,h=e.showAlert,v=e.args,O=b||function(){return Object(u.b)(n,r?"admin":"user",f,h,v)},E=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.admin_google_drive.effect1")),o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.admin_google_drive.effect2")))},y=function(e){var t=e.isUserSiteOwner;return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.user_google_drive.effect1")),t?o.a.createElement(o.a.Fragment,null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.user_siteowner_google_drive.effect1")),o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.user_siteowner_google_drive.effect2"))):o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.user_google_drive.effect2")))};"slack"===d?(t=Object(m.a)("modal.alert.disconnect_social_account.title",{account:Object(m.a)("app.slack")}),a=o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_social_account.text",{account:Object(m.a)("app.slack")}))):"social"===d?(t=Object(m.a)("modal.alert.disconnect_social_account.title",{account:Object(m.a)("app.".concat(n))}),a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_social_account.text",{account:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_social_account.effect1"))))):"salesforce"===d||"servicenow"===n?(t=Object(m.a)("modal.alert.disconnect_account.service_admin.title",{service:Object(m.a)("app.".concat(n))}),a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_account.service_admin.text",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)("modal.common.cannot_be_undone"))))):"event"===d?(t=Object(m.a)("modal.alert.disconnect_account.service_admin.title"),a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_account.service_admin.text",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.google_calendar.effect1"))))):"googleProvider"===d?(t=Object(m.a)("modal.alert.disconnect_account.service_admin.title",{service:Object(m.a)("app.".concat(n))}),a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_account.service_admin.text",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.google_admin.effect",{service:Object(m.a)("app.".concat(n))}))))):"googledrive"===d||"fileProvider"===d&&"googledrive"===n?(t=Object(m.a)("modal.alert.disconnect_account.service_admin.title",{service:Object(m.a)("app.".concat(n))}),a=o.a.createElement("div",null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_account.service_admin.text",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,r&&"fileProvider"===d&&"googledrive"===n?o.a.createElement(E,null):o.a.createElement(y,{isUserSiteOwner:c})))):"atlassian"===d?(t=Object(m.a)("modal.alert.disconnect_account.service_admin.title",{service:Object(m.a)("app.".concat(n))}),a=o.a.createElement("p",null,Object(m.a)(r?"modal.alert.disconnect_account.service_admin.text_organisation":"modal.alert.disconnect_account.service_user.text",{service:Object(m.a)("app.atlassian_confluence")}))):"sharepointMultiInstance"===d?(t=Object(m.a)("manage_app.integrations.files.sharepoint.disconnect_modal_title"),a=o.a.createElement("div",null,o.a.createElement("p",null,Object(m.a)("manage_app.integrations.files.sharepoint.disconnect_modal_text")),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)("manage_app.integrations.files.sharepoint.disconnect_modal_effect1")),o.a.createElement("li",null,Object(m.a)("manage_app.integrations.files.sharepoint.disconnect_modal_effect2"))))):"sharepoint"===d?(t=Object(m.a)("modal.alert.disconnect_account.service_user.title",{service:Object(m.a)("app.".concat(n))}),a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_account.service_admin.text",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.sharepoint.effect1",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("li",null,Object(m.a)(c?"modal.alert.disconnect_account.sharepoint_admin.effect2":"modal.alert.disconnect_account.sharepoint_user.effect2",{service:Object(m.a)("app.".concat(n))})),c&&o.a.createElement("li",null,Object(m.a)("modal.alert.disconnect_account.sharepoint_admin.effect3",{service:Object(m.a)("app.".concat(n))}))))):(t=Object(m.a)("modal.alert.disconnect_account.service_admin.title",{service:Object(m.a)("app.".concat(n))}),a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,Object(m.a)("modal.alert.disconnect_account.service_admin.text",{service:Object(m.a)("app.".concat(n))})),o.a.createElement("ul",null,o.a.createElement("li",null,Object(m.a)(r?"modal.alert.disconnect_account.service_admin.effect1":"modal.alert.disconnect_account.service_user.effect1")),o.a.createElement("li",null,Object(m.a)(r?"modal.alert.disconnect_account.service_admin.effect2":"modal.alert.disconnect_account.service_user.effect2")))));var j=o.a.createElement(i.a,{name:s.X,id:"disconnect-".concat(n),onConfirm:O,title:t,buttonText:Object(m.a)("button_label.disconnect")},a);return o.a.createElement(l.a,{modal:j},p)}d.propTypes={name:r.a.string.isRequired,type:r.a.oneOf(["fileProvider","social","slack","teams","salesforce","event","googleProvider","googledrive","atlassian","sharepoint","sharepointMultiInstance"]).isRequired,isAdmin:r.a.bool,isSiteOwner:r.a.bool,children:r.a.func.isRequired,disconnectHandler:r.a.func,showAlert:r.a.bool,args:r.a.shape({spDisconnectAndUpgrade:r.a.bool})},t.a=d},2681:function(e,t,a){"use strict";var n=a(16),r=a.n(n),c=a(15),o=a.n(c),l=a(1),i=a.n(l),s=a(0),u=a.n(s),m=a(21),d=a(123),p=a(759);var b=function(e){return u.a.createElement(p.a,r()({},e,{type:"checkbox"}))};function g(e){var t=e.label,a=e.icon,n=e.hasBorder,c=e.isHorizontal,l=e.note,i=e.isDisabled,s=e.isVisuallyDisabled,p=e.hasLegacyIcon,g=e.hasLargeIcon,f=e.hasDarkIcon,h=Object(d.a)(e.id,e.input),v=o()({IconToggle:!0,"is-disabled":i&&s,"IconToggle--hasBorder":n,"IconToggle--horizontal":c,"IconToggle--hasNote":l,"IconToggle--large":g,"IconToggle--darkIcon":f});return u.a.createElement("div",{className:v},u.a.createElement(b,r()({},e,{id:h,hasIcon:!0})),u.a.createElement("div",{className:"IconToggle-iconContainer IconToggle-iconContainer--".concat(a)},u.a.createElement(m.a,{isLegacy:p,name:a})),u.a.createElement("label",{htmlFor:h,className:"IconToggle-label"},t),l&&u.a.createElement("span",{className:"IconToggle-note"},l))}g.propTypes={isVisuallyDisabled:i.a.bool,hasLegacyIcon:i.a.bool,hasLargeIcon:i.a.bool},g.defaultProps={isVisuallyDisabled:!0,hasLegacyIcon:!0,hasLargeIcon:!1};t.a=g},2694:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return v}));var n=a(5),r=a.n(n),c=a(4),o=a.n(c),l=a(0),i=a(562),s=a(932),u=a(131),m=a(2605),d=a(2642),p=a(177),b=a(275);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(t,a,n,r){var c=Object(l.useCallback)((function(e,n){return r===m.b.SITE_ABOUT||"requests"!==a&&"requests-search"!==a?r===m.b.SITE_ABOUT?Object(p.d)(e,n):Object(d.a)(e,t,n):Object(d.d)(e,t,n)}),[t,a,r]);return{endpoint:e.Simpplr.Salesforce.Site.getPeople,resultExtractor:function(e,n){var c=e.result.listOfItems;if(r!==m.b.SITE_ABOUT&&("requests"===a||"requests-search"===a)){var o=c.map((function(e){return e.user})),l=c.map((function(e){return e.request}));return n(Object(i.k)(t,o)),n(Object(s.c)(t,l)),c.map((function(e){var t=e.user;return t.peopleId||t.id}))}return r===m.b.SITE_ABOUT?n(Object(u.i)(c)):n(Object(i.k)(t,c)),c.map((function(e){return e.peopleId||e.id}))},itemSelector:c,itemName:"managePeople",initialParams:new o.a.Map({siteId:t,type:a,term:n})}};function v(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Object(b.a)(f(f({},h(e,t,a,n)),r))}}).call(this,a(27))},2716:function(e,t,a){"use strict";(function(e){var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(208),i=a(1006),s=a(117),u=a(2773),m=a(3),d=a(47);function p(t){var a=t.isSlackConnected,n=t.label,r=t.isRequired,c=Object(u.a)(e.Simpplr.Salesforce.Slack.getAvailableChannels,{isSlackConnected:a}),p=c.loading,b=c.loaded,g=c.result,f=Object(l.e)().change,h=g&&g.listOfChannels||[];if(!a)return o.a.createElement(l.a,{name:"channelDisable",component:s.a,validate:d.E,isRequired:r,isDisabled:!0,label:n,placeholder:Object(m.a)("field.slack_channel.placeholder"),hasLabelAbove:!0,hasNoInternalLabel:!0});var v=h.map((function(e){var t=e.channelId,a=e.name,n=e.isPrivate;return{value:t,label:"#".concat(a).concat(n?" (".concat(Object(m.a)("common.private"),")"):"")}}));return b&&0===v.length?o.a.createElement(l.a,{component:s.a,name:"channelUrl",label:Object(m.a)("field.slack_channel.label"),validate:d.E,isRequired:!0,placeholder:Object(m.a)("manage_sites.external_apps.slack_dropdown_placeholder_text"),hasLabelAbove:!0,hasNoInternalLabel:!0,icon:"link",info:Object(m.a)("content.promote_modal.action.slack_input_text")}):o.a.createElement(l.a,{component:i.a,name:"channelId",validate:d.E,isRequired:r,label:n,placeholder:Object(m.a)("field.slack_channel.placeholder"),hasLabelAbove:!0,hasClearButton:!0,options:v,isLoading:p,onChange:function(e){var t=h.find((function(t){return t.channelId===e})),a=t&&t.name;f("channelName",a)}})}p.propTypes={isSlackConnected:r.a.bool,label:r.a.string},p.defaultProps={isSlackConnected:!0},t.a=p}).call(this,a(27))},2725:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(208),o=a(55),l=a(661),i=a(2623),s=a(242),u=a(113),m=a(3),d=a(47),p=a(2805);function b(e){var t=e.data.item,a=t.isMember&&Object(m.a)("modal.site_members_and_followers.already_member")||t.isFollower&&Object(m.a)("modal.site_members_and_followers.already_follower");return r.a.createElement(l.a,{user:t,info:a})}function g(e){var t=e.site,a=t.siteId,n=t.access,l=e.close,u=e.prependId,g=e.term,f=Object(p.a)(a,l,u,g),h=f.submitHandler,v=f.handleAddAnother,O="private"===n||"unlisted"===n;return r.a.createElement(c.b,{onSubmit:h,initialValues:{membershipType:O?"member":"follower"}},(function(e){var t=e.submitting,n=e.invalid,u=e.handleSubmit,p=e.form,g=e.values,f=g.sfUserId,h=g.membershipType;return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",{className:"Modal-content Modal-content--forms"},r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement(c.a,{component:i.a,label:Object(m.a)("modal.site_members_and_followers.select_person"),placeholder:Object(m.a)("common.search_placeholder"),name:"sfUserId",valueField:"sfUserId",defaultParams:{includeMemberTypeForSite:a},hasClearButton:!0,isStaticLabel:!1,cacheOptions:!1,hasLabelAbove:!0,isLegacyIcon:!0,validate:d.E,makeOption:function(e){return{value:e.sfUserId,label:e.name,item:e}},isOptionDisabled:function(e){var t=e.item,a=t.isMember,n=t.isFollower;return a||n},renderOption:b})),!O&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"u-marg-b--small u-pad-t--xsmall type--500 type--h6"},Object(m.a)("common.user_type")),r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement(c.a,{component:s.a,name:"membershipType",validate:d.E,options:[{label:Object(m.a)("common.site_follower"),value:"follower"},{label:Object(m.a)("common.site_member"),value:"member"}]})))),r.a.createElement("div",{className:"Strip Strip--modal u-pad-t--mediumlarge u-pad-b--mediumlarge"},r.a.createElement("div",{className:"u-sizeFill u-textLeft"},r.a.createElement("button",{type:"button",className:"type--brand Button--large u-pad-l--none",onClick:l},Object(m.a)("button_label.cancel"))),r.a.createElement(o.a,{size:"large",label:Object(m.a)("button_label.add_another"),disabled:t||n,onClick:function(){return v(p.reset,f,h)}}),r.a.createElement(o.a,{type:"submit",size:"large",label:Object(m.a)("common.add_person"),appearance:"brand",disabled:t||n})))}))}g.propTypes={},t.a=Object(u.a)((function(){return{title:Object(m.a)("modal.site_members_and_followers.add"),classes:["Modal--small"]}}))(g)},2755:function(e,t,a){"use strict";var n=a(16),r=a.n(n),c=a(1),o=a.n(c),l=a(0),i=a.n(l),s=a(18),u=a(562),m=a(241),d=a(2725),p=a(70),b=a(129),g=a(1033),f=(a(2694),a(226)),h=a(51),v=a(3),O=a(20),E=a.n(O),y=a(34),j=a.n(y),_=(a(4),a(36)),C=a(1003),S=a(766),w=a(227),P=a(2605),k=a(30),N=a(14),I=a(301);function R(e){var t=e.makeOwner,a=e.siteStorage,n=e.user,r=n.hasConnectedGoogleDriveAccount,c=n.hasConnectedDropboxAccount,o=n.hasConnectedOneDriveAccount,l=n.hasConnectedSharePointAccount,u=n.canSPTransferOwnership,m=n.name,d=!1,p=!1,b=Object(s.useDispatch)();"googledrive"===a&&r&&(d=!0),"dropbox"===a&&c&&(d=!0),"onedrive"===a&&o&&(d=!0),"sharepoint"===a&&l&&(d=!0,u||(p=!0)),"intranet"===a&&(d=!0),"sharepoint"!==a||l||(p=!0);var g=function(){if("sharepoint"===a)return!d||!u?(b(Object(N.f)(Object(v.a)("site.members.make_owner_failure",{name:m}))),i.a.createElement("div",null,i.a.createElement("p",null,Object(v.a)("modal.alert.make_owner_sharepoint_failed.effect1",{name:m})),i.a.createElement("p",null,Object(v.a)("modal.alert.make_owner_sharepoint_failed.effect2")))):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,Object(v.a)("modal.alert.make_owner.text")),i.a.createElement("ul",null,i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner_site_storage_connected.effect1",{service:Object(v.a)("app.".concat(a))})),i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner_sharepoint_connected.effect2"))));if("googledrive"===a){var e=d?i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner_site_storage_connected.effect1",{service:Object(v.a)("app.".concat(a))})),i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner_googledrive_connected.effect2"))):i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner_googledrive_disconnected.effect1")),i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner_googledrive_disconnected.effect2")));return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,Object(v.a)("modal.alert.make_owner.text")),i.a.createElement("ul",null,e))}return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,Object(v.a)("modal.alert.make_owner.text")),!d&&i.a.createElement("ul",null,i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner.effect1",{service:Object(v.a)("app.".concat(a))})),i.a.createElement("li",null,Object(v.a)("modal.alert.make_owner.effect2",{service:Object(v.a)("app.".concat(a))}))))};return i.a.createElement(I.a,{title:Object(v.a)("modal.alert.make_owner.title"),buttonText:Object(v.a)("modal.alert.make_owner.title"),onConfirm:t,hideButtons:p},i.a.createElement(g,null))}R.propTypes={makeOwner:o.a.func,siteStorage:o.a.string};var A=R;function x(e){var t=e.removeManager;return i.a.createElement(I.a,{title:Object(v.a)("modal.alert.remove_manager.title"),buttonText:Object(v.a)("button_label.remove"),onConfirm:t},i.a.createElement("p",null,Object(v.a)("modal.alert.remove_manager.text")))}x.propTypes={removeManager:o.a.func};var M=x;function D(e){var t=e.removePeople,a=(e.type,e.user),n=e.site,r=n.isOwner,c=n.isManager,o=n.storageProvider,l=n.access,s=n.hasPages,u=n.hasEvents,m=n.hasAlbums,d=e.makeOwner,p=e.makeMember,b=e.makeManager,g=e.makeFollower,h=e.makeContentManager,O=e.removeManager,y=e.removeContentManager,_=e.isAppManager,P=e.isSystemAdmin,k=e.isCurrentUser,N=e.history,I=Object(f.c)(i.a.createElement(M,{removeManager:O})).open,R=Object(f.c)(i.a.createElement(A,{user:a,siteStorage:o,makeOwner:d})).open,x="private"===l||"unlisted"===l,D=s||u||m,T=a.isFollower,F=a.isMember,L=a.isManager,q=a.isContentManager,B=a.isOwner,U=a.canMakeManager,V=a.canMakeNotManager,z=a.canMakeContentManager,G=a.canMakeNotContentManager,W=a.canMakeOwner,H=a.canRemove,Q={makeFollower:[],main:[],remove:[]};if(B)return null;var Y=function(){var e=j()(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:!k||P||_||window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return T&&Q.main.push(i.a.createElement(w.a,{key:"makeMember",label:Object(v.a)("manage_site.people.make_member.label"),onSelect:p})),L&&V?Q.main.push(i.a.createElement(w.a,{key:"removeManager",label:Object(v.a)("manage_site.people.remove_manager.label"),onSelect:I})):!L&&U&&Q.main.push(i.a.createElement(w.a,{key:"makeManager",label:Object(v.a)("manage_site.people.make_manager.label"),onSelect:b})),q&&G?Q.main.push(i.a.createElement(w.a,{key:"makeContentManager",label:Object(v.a)("manage_site.people.remove_content_manager.label"),onSelect:y})):!q&&z&&D&&Q.main.push(i.a.createElement(w.a,{key:"removeContentManager",label:Object(v.a)("manage_site.people.make_content_manager.label"),onSelect:Y})),W&&(r||_||P||c)&&Q.main.push(i.a.createElement(w.a,{key:"makeOwner",label:Object(v.a)("manage_site.people.make_owner.label"),onSelect:R})),!F||q||L||x||Q.makeFollower.unshift(i.a.createElement(w.a,{key:"makeFollower",label:Object(v.a)("manage_site.people.make_follower.label"),onSelect:g})),H&&Q.remove.push(i.a.createElement(w.a,{key:"remove",label:Object(v.a)("manage_site.people.remove_option.label"),onSelect:function(){t(),k&&(x&&!P||!x&&!_)&&N.replace("/sites")}})),Q.remove.length||Q.main.length||Q.makeFollower.length?i.a.createElement(C.a,null,Object.keys(Q).map((function(e){return i.a.createElement(S.a,{key:e},Q[e])}))):null}D.propTypes={};var T=Object(s.connect)((function(e,t){var a=Object(k.getCurrentUserPermissions)(e);return{isCurrentUser:Object(k.getCurrentUser)(e).get("sfUserId")===t.user.sfUserId,isAppManager:a.get("isAppManager"),isSystemAdmin:a.get("isSystemAdmin")}}),(function(e,t){var a=t.type,n=t.user,r=n.sfUserId,c=n.isManager,o=n.isContentManager,l=n.isMember,i=n.isFollower,s=n.peopleId,m=t.site.siteId,d=t.reload,p=t.removeId;return{removePeople:function(){e(Object(u.j)(m,r)),p(s),a===P.a.MANAGERS||c||o?(e(Object(u.m)(m,"ownerAndManagerCount")),e(Object(u.m)(m,"memberCount"))):l?e(Object(u.m)(m,"memberCount")):i&&e(Object(u.m)(m,"followerCount"))},makeOwner:function(){return j()(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Object(u.g)(m,r));case 2:a===P.a.FOLLOWERS&&(e(Object(u.m)(m,"followerCount")),e(Object(u.a)(m,"memberCount")),e(Object(u.a)(m,"ownerAndManagerCount"))),a!==P.a.MEMBERS||c||o||e(Object(u.a)(m,"ownerAndManagerCount")),d();case 5:case"end":return t.stop()}}),t)})))()},makeMember:function(){e(Object(u.f)(m,r)),a===P.a.FOLLOWERS&&(e(Object(u.m)(m,"followerCount")),e(Object(u.a)(m,"memberCount")))},makeManager:function(){e(Object(u.e)(m,r)),a===P.a.FOLLOWERS&&(e(Object(u.m)(m,"followerCount")),e(Object(u.a)(m,"memberCount")),e(Object(u.a)(m,"ownerAndManagerCount"))),a===P.a.MEMBERS&&e(Object(u.a)(m,"ownerAndManagerCount"))},makeFollower:function(){e(Object(u.d)(m,r)),a===P.a.MEMBERS&&(e(Object(u.m)(m,"memberCount")),e(Object(u.a)(m,"followerCount")))},makeContentManager:function(){e(Object(u.c)(m,r)),a===P.a.FOLLOWERS&&(e(Object(u.m)(m,"followerCount")),e(Object(u.a)(m,"memberCount")),e(Object(u.a)(m,"ownerAndManagerCount"))),a===P.a.MEMBERS&&e(Object(u.a)(m,"ownerAndManagerCount"))},removeManager:function(){e(Object(u.i)(m,r)),e(Object(u.m)(m,"ownerAndManagerCount"))},removeContentManager:function(){e(Object(u.h)(m,r)),e(Object(u.m)(m,"ownerAndManagerCount"))}}}))(Object(_.k)(D)),F=function(e){var t=e.site,a=e.type,n=e.term,c=e.hideContactBar,o=e.showFollow,h=e.showSiteRelationLabel,O=e.showOptionsMenu,E=e.hasNoResult,y=(e.pageName,e.listing),j=t.siteId,_=t.access,C=y.loading,S=y.loadMore,w=y.reload,P=y.removeId,k=y.canPaginate,N=y.managePeople,I=Object(s.useDispatch)();Object(l.useEffect)((function(){I(Object(u.l)(j,a))}),[I,j,a]);var R,A=Object(f.c)(i.a.createElement(d.a,{site:t,prependId:y.prependId,term:n})).open,x=n&&(E?Object(v.a)("manage_site.people.no_result.label_with_link",{term:n,AddPerson:i.a.createElement("button",{type:"button",className:"type--brand",onClick:A})}):Object(v.a)("manage_site.people.no_result.label",{term:n})),M="requests"===a||"requests-search"===a,D=h&&("managers"===a||"people-search"===a||"members"===a),F=O&&"requests"!==a&&"requests-search"!==a,L=N;return M&&(L=N.map((function(e){return e.user})),R=N.map((function(e){return e.request}))),0===N.size?C?i.a.createElement("div",{className:"Tile-loaderContainer"},i.a.createElement(b.a,null)):N.size||i.a.createElement(p.a,{hasNoBorder:!0,message:x}):i.a.createElement(i.a.Fragment,null,i.a.createElement("ul",null,L.map((function(e,n){return i.a.createElement(g.a,r()({},e.toMap().merge({key:e.id}).toJS(),{user:e,siteId:j,siteType:_,request:R&&R.get(n),hideContactBar:c,showFollow:o,showSiteRelationLabel:D,showUserRequest:M,typeLabel:e.isAppManager&&Object(v.a)("common.permission.app_manager"),showManageOptions:F,ManageOptionsMenu:i.a.createElement(T,{removeId:P,reload:w,user:e,site:t,type:a})}))}))),i.a.createElement(m.a,{canLoad:k,onLoad:S,isLoading:C}))};F.propTypes={site:o.a.instanceOf(h.a).isRequired,type:o.a.string,term:o.a.string,pageName:o.a.string};t.a=F},2765:function(e,t,a){"use strict";(function(e){var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(654),i=a(32),s=a(3);function u(t){var a=t.type,n="",r=!1,c=Object(l.a)(e.Simpplr.Salesforce.Analytics.getLastSyncDate,a),u=c.loading,m=c.result;if(m&&m.updatedAt){var d=Object(i.j)(),p=m.updatedAt,b=d.diff(p,"hours");if(b>=24)r=!0,n=d.diff(p,"days");else n=b}var g=r?"datetime.x_day":"datetime.x_hour";return o.a.createElement(o.a.Fragment,null,!u&&a&&!!n&&o.a.createElement("div",{className:"type--secondary type--b3"},Object(s.a)("analytics.data_as_of_date.title",{time:Object(s.a)(g,{count:n})})))}u.propTypes={type:r.a.string.isRequired},t.a=u}).call(this,a(27))},2773:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(5),r=a.n(n),c=a(20),o=a.n(c),l=a(34),i=a.n(l),s=a(24),u=a.n(s),m=a(0),d=a(18),p=a(131),b=a(560),g=a(26),f=a(3);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={loaded:!1,loading:!0,result:null,error:!1};function E(e,t){var a=t.type,n=t.result,r=t.error;switch(a){case"load":return{loading:!1,loaded:!0,result:n,error:!1};case"error":return{loading:!1,loaded:!1,result:null,error:r};case"reset":return O;default:throw new Error}}function y(e,t){var a=t.isSlackConnected,n=Object(m.useReducer)(E,O),r=u()(n,2),c=r[0],l=r[1],s=Object(m.useRef)(!0),h=Object(b.b)(),y=Object(d.useDispatch)(),j=Object(m.useCallback)(i()(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:if(a=t.sent,s.current){t.next=6;break}return t.abrupt("return",null);case 6:return l({type:"load",result:a.result}),t.abrupt("return",a.result);case 10:if(t.prev=10,t.t0=t.catch(0),s.current){t.next=14;break}return t.abrupt("return",null);case 14:console.log(t.t0),"token_revoked"===(n=Object(g.a)(t.t0))?(h(Object(f.a)("manage_app.slack.token_revoked.warning_flash")),y(Object(p.b)("slackContentShare"))):h(n),l({type:"error",error:n});case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}}),t,null,[[0,10]])}))),[]);return Object(m.useEffect)((function(){a&&j()}),[]),Object(m.useEffect)((function(){return function(){s.current=!1}}),[]),v(v({},c),{},{reload:j})}},2803:function(e,t,a){var n=a(382),r=a(2018),c=a(2224),o=a(316),l=a(666),i=a(2804),s=a(1024),u=a(2228),m=s((function(e,t){var a={};if(null==e)return a;var s=!1;t=n(t,(function(t){return t=o(t,e),s||(s=t.length>1),t})),l(e,u(e),a),s&&(a=r(a,7,i));for(var m=t.length;m--;)c(a,t[m]);return a}));e.exports=m},2804:function(e,t,a){var n=a(634);e.exports=function(e){return n(e)?void 0:e}},2805:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return f}));var n=a(20),r=a.n(n),c=a(34),o=a.n(c),l=a(0),i=a(18),s=a(562),u=a(82),m=a(2605),d=a(560),p=a(2642),b=a(26),g=a(3);function f(t,a,n,c){var f=Object(d.a)(),h=f.success,v=f.danger,O=Object(i.useDispatch)(),E=Object(i.useSelector)((function(e){return Object(p.c)(e,t)})),y=Object(l.useCallback)((function(e,a){"follower"!==e||c?"member"!==e||c||O(Object(s.a)(t,"memberCount")):O(Object(s.a)(t,"followerCount")),("follower"===e&&E===m.a.FOLLOWERS||"member"===e&&E===m.a.MEMBERS)&&(O(Object(s.k)(t,a)),a.map((function(e){var t=e.peopleId;return n(t)})))}),[n,O,t,E,c]),j=Object(l.useCallback)((function(e){O("follower"===e?Object(u.addFollowerCount)(t):Object(u.addMemberCount)(t))}),[t,O]);return{submitHandler:Object(l.useCallback)(function(){var n=o()(r.a.mark((function n(c){var o,l,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=c.sfUserId,l=c.membershipType,n.prev=1,n.next=4,e.Simpplr.Salesforce.Site.addPeople(t,[{sfUserId:o,membershipType:l}]);case 4:i=n.sent,h(Object(g.a)("modal.site_members_and_followers.add_person_flash")),y(l,i.result),j(l),a(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),v(Object(b.a)(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}(),[t,h,y,j,a,v]),handleAddAnother:Object(l.useCallback)(function(){var a=o()(r.a.mark((function a(n,c,o){var l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.Simpplr.Salesforce.Site.addPeople(t,[{sfUserId:c,membershipType:o}]);case 3:l=a.sent,h(Object(g.a)("modal.site_members_and_followers.add_person_flash")),y(o,l.result),j(o),n(),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),v(Object(b.a)(a.t0));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t,n){return a.apply(this,arguments)}}(),[v,h,t,y])}}}).call(this,a(27))},2806:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(18),i=a(562),s=a(215),u=a(147),m=a(274),d=a(2605),p=(a(654),a(51)),b=a(2642),g=a(3),f=a(2755),h=function(e){var t=e.site,a=e.baseUrl,n=e.hideContactBar,r=e.showFollow,d=e.showSiteRelationLabel,p=e.showOptionsMenu,h=e.showMembershipRequestsTab,v=e.pageName,O=e.listing,E=e.match.params.type,y=t.access,j=t.siteId,_=t.isMembershipAutoApproved,C="unlisted"===y,S="unlisted"===y||"private"===y,w=Object(l.useDispatch)();Object(c.useEffect)((function(){w(Object(i.b)(j))}),[j,w,E]);var P=Object(l.useSelector)((function(e){return Object(b.b)(e,j)})),k=(P.get("loading"),P.get("loaded")),N=P.get("result");if(!k)return o.a.createElement(s.a,null);var I=N.get("ownerAndManagerCount"),R=N.get("memberCount"),A=N.get("followerCount"),x=N.get("requestCount");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"u-marg-b--medium"},o.a.createElement(m.a,{isPadded:!1},o.a.createElement(u.a,{to:"".concat(a,"/managers"),label:o.a.createElement(o.a.Fragment,null,Object(g.a)("manage_site.tab.owner_and_managers_label")," ",o.a.createElement("span",{className:"type--secondary"},"(",I,")"))}),o.a.createElement(u.a,{to:"".concat(a,"/members"),label:o.a.createElement(o.a.Fragment,null,Object(g.a)("manage_site.tab.members_label")," ",o.a.createElement("span",{className:"type--secondary"},"(",R,")"))}),!S&&o.a.createElement(u.a,{to:"".concat(a,"/followers"),label:o.a.createElement(o.a.Fragment,null,Object(g.a)("manage_site.tab.followers_label")," ",o.a.createElement("span",{className:"type--secondary"},"(",A,")"))}),h&&!C&&!_&&o.a.createElement(u.a,{to:"".concat(a,"/requests"),label:o.a.createElement(o.a.Fragment,null,Object(g.a)("manage_site.tab.membership_requests_label")," ",o.a.createElement("span",{className:"type--secondary"},"(",x,")"))}))),o.a.createElement(f.a,{key:E,type:E,site:t,listing:O,hideContactBar:n,showFollow:r,showSiteRelationLabel:d,showOptionsMenu:p,pageName:v}))};h.propTypes={site:r.a.instanceOf(p.a).isRequired,params:r.a.shape({}),hideContactBar:r.a.bool,showFollow:r.a.bool,showSiteRelationLabel:r.a.bool,showOptionsMenu:r.a.bool,showMembershipRequestsTab:r.a.bool,pageName:r.a.string},h.defaultProps={hideContactBar:!0,showFollow:!1,showSiteRelationLabel:!0,showOptionsMenu:!0,showMembershipRequestsTab:!0,pageName:d.b.MANAGE_SITES_PEOPLE},t.a=h},2936:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s}));var n=a(4),r=a(14),c=a(941),o=a(26),l=a(3);function i(e){return Array.isArray(e)||n.Iterable.isIterable(e)?{type:c.e,payload:{chatterGroups:e}}:(t=e,{type:c.d,payload:{id:t.chatterGroupId,result:t}});var t}function s(t){return function(a){return a({type:c.b,chatterGroupId:t}),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.ChatterGroup.convertToSite(t).done((function(e){return a({type:c.c,payload:{chatterGroupId:t,result:e.result}}),a(Object(r.j)(Object(l.a)("chatter_group.convert.success_flash"))),e.result})).fail((function(e){var n=Object(o.a)(e);a(Object(r.f)(n)),a({type:c.a,chatterGroupId:t,error:n})})).always(e.Simpplr.Loader.hide)}}}).call(this,a(27))},2937:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return y}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(92);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var y=function(t){i()(n,t);var a=E(n);function n(){return r()(this,n),a.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,a=t.metric,n=t.orderBy,r=t.siteId,c=t.range,o=t.from,l=t.to,i=t.children,s={};return void 0!==a&&(s.metric=a),void 0!==n&&(s.orderBy=n),void 0!==r&&(s.siteId=r),v.a.createElement(O.a,{endpoint:e.Simpplr.Salesforce.Analytics.getPerformanceContent,params:s,range:c,from:o,to:l},i)}}]),n}(v.a.PureComponent);b()(y,"propTypes",{children:f.a.func.isRequired,metric:f.a.oneOf(["popularity","views"]),orderBy:f.a.oneOf(["bottom","top"]),siteId:f.a.string,range:f.a.number,from:f.a.string,to:f.a.string}),b()(y,"defaultProps",{metric:"views",orderBy:"top"})}).call(this,a(27))},2938:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),r=a.n(n);function c(e,t,a){var n=t;return"dropbox"!==(n="yes"===(n="public"===(n="yes"===(n="yes"===(n=function(e,t,a){var n="categoryId";"add"===e&&(n="category");var c=t;if(c.get(n)){var o=a.get(c.get(n));c=c.set("category",new r.a.Map({id:(null==o?void 0:o.get("id"))||null,categoryId:(null==o?void 0:o.get("categoryId"))||(null==o?void 0:o.get("id"))||null,name:(null==o?void 0:o.get("name"))||c.get(n)}))}return c}(e,t,a)).get("hasDashboard")?n.merge({landingPage:"dashboard",hasDashboard:!0}):n.merge({hasDashboard:!1})).get("isContentSubmissionsEnabled")?n.merge({isContentSubmissionsEnabled:!0}):n.merge({isContentSubmissionsEnabled:!1})).get("access")&&"yes"===n.get("isMembershipAutoApproved")?n.merge({isMembershipAutoApproved:!0}):n.merge({isMembershipAutoApproved:!1})).get("isQuestionAnswerEnabled")?n.merge({isQuestionAnswerEnabled:!0}):n.merge({isQuestionAnswerEnabled:!1})).get("storageProvider")&&(n=n.set("dropboxRootPermission",null)),"edit"!==e||n.get("storageProvider")||(n=n.set("storageProvider","intranet")),"edit"===e&&(n=n.merge({isContentFeedEnabled:"yes"===n.get("isContentFeedEnabled"),hasPages:n.get("hasPagesEnabled"),hasAlbums:n.get("hasAlbumsEnabled"),hasEvents:n.get("hasEventsEnabled")})),n}},3512:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var n=a(5),r=a.n(n),c=a(2936),o=a(3513),l=a(478);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l.a)(s({endpoint:e.Simpplr.Salesforce.ChatterGroup.search,itemActionCreator:c.b,itemSelector:o.a,itemName:"chatterGroups",keyName:"chatterGroupId"},t))}}).call(this,a(27))},3513:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(4),r=a.n(n),c=a(19);var o=Object(c.a)([function(e){return e.get("chatterGroups")}],(function(e){return e.map((function(e){return e.get("result")}))})),l=Object(c.a)([o,function(e,t){return new r.a.List(t)}],(function(e,t){return t.map((function(t){return e.get(t)}))}))},3514:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return _}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(176),E=a(92);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var j=Object(O.i)("viewsOverTime"),_=function(t){i()(n,t);var a=y(n);function n(){return r()(this,n),a.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,a=t.siteId,n=t.range,r=t.from,c=t.to,o=t.groupBy,l=t.children,i=[{type:"content",siteId:a,groupBy:void 0!==o?o:void 0},{type:"dashboard",siteId:a,groupBy:void 0!==o?o:void 0}],s={siteId:a,groupBy:void 0!==o?o:void 0};return v.a.createElement(E.a,{endpoint:[e.Simpplr.Salesforce.Analytics.getSiteViews,e.Simpplr.Salesforce.Analytics.getSiteViews,e.Simpplr.Salesforce.Analytics.getSiteViewsTotal],params:[].concat(i,[s]),range:n,from:r,to:c,formatResult:[j,j]},l)}}]),n}(v.a.PureComponent);b()(_,"propTypes",{children:f.a.func.isRequired,siteId:f.a.string.isRequired,groupBy:f.a.oneOf(["day","week","month"]),range:f.a.number,from:f.a.string,to:f.a.string})}).call(this,a(27))},3515:function(e,t,a){"use strict";(function(e){var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(7),i=a.n(l),s=a(12),u=a.n(s),m=a(13),d=a.n(m),p=a(8),b=a.n(p),g=a(5),f=a.n(g),h=a(2938),v=a(4),O=a.n(v),E=a(1),y=a.n(E),j=a(0),_=a.n(j),C=a(18),S=a(53),w=a(37),P=a(14),k=a(94),N=a(553),I=a(55),R=a(3516),A=a(215),x=a(2003),M=a(225),D=a(2681),T=a(245),F=a(655),L=a(242),q=a(656),B=a(1006),U=a(117),V=a(301),z=a(140),G=a(296),W=a(52),H=a(30),Q=a(17),Y=a(1136),K=a(266),J=a(3),X=a(47);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var $="SITE_SETUP_FORM",ee=Object(w.formValueSelector)($);function te(e){var t=new O.a.Map({access:"public",hasPages:!0,hasEvents:!0,hasAlbums:!0,hasDashboard:"yes",landingPage:"feed",storageProvider:"intranet",dropboxRootPermission:"read",isContentFeedEnabled:"yes",isContentSubmissionsEnabled:!1,isMembershipAutoApproved:"no",isOwner:!0,isQuestionAnswerEnabled:"yes"});return e&&((t=(t=(t=(t=(t=(t=(t=t.merge(e)).set("hasDashboard",!1===e.get("hasDashboard")?"no":"yes")).set("isContentFeedEnabled",!1===e.get("isContentFeedEnabled")?"no":"yes")).set("isQuestionAnswerEnabled",!1===e.get("isQuestionAnswerEnabled")?"no":"yes")).set("isContentSubmissionsEnabled",!1===e.get("isContentSubmissionsEnabled")?"no":"yes")).set("categoryId",e.getIn(["category","id"]))).set("isMembershipAutoApproved",!1===e.get("isMembershipAutoApproved")?"no":"yes")).get("dropboxRootPermission")||(t=t.set("dropboxRootPermission","read"))),t}var ae=function(t){u()(n,t);var a=Z(n);function n(e){var t;return r()(this,n),t=a.call(this,e),f()(i()(t),"shouldMountStorageProviderWarningModal",(function(){return["googledrive","dropbox","onedrive","sharepoint"].includes(t.props.originalStorageProvider)})),t.onSubmit=t.onSubmit.bind(i()(t)),t.onDashboardChange=t.onDashboardChange.bind(i()(t)),t.getAccessOptions=t.getAccessOptions.bind(i()(t)),t.getContentOptions=t.getContentOptions.bind(i()(t)),t.isConnectedToSelectedStorageProvider=t.isConnectedToSelectedStorageProvider.bind(i()(t)),t}return o()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.loadCategories()}},{key:"componentWillUnmount",value:function(){this.props.clearStorageNotConnectedWarning()}},{key:"onSubmit",value:function(t){var a=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.get("siteId")&&Object(K.b)("Save Site Setup",{siteId:t.get("siteId")}),"function"!=typeof this.props.onSubmit)return null;if(this.props.isOwner){var r=t.get("storageProvider");if(r&&!this.isConnectedToSelectedStorageProvider(r))return this.props.showStorageNotConnectedWarning(Object(J.a)("file.provider.".concat(r)),"".concat(e.Simpplr.Settings.appUrl,"?u=/my-settings/external-apps")),null}if(n){var c=this.props.originalStorageProvider;if(c&&c!==t.get("storageProvider")&&this.shouldMountStorageProviderWarningModal())return this.props.openStorageChangeModal(),null}var o=Object(h.a)("edit",t,this.props.accessibleCategories);return this.props.onSubmit(o).then((function(e){var t=e.result;return a.props.initialize(te(t))}))}},{key:"onDashboardChange",value:function(e,t){this.props.change("landingPage","no"===t?this.props.landingPageOptions[0].value:"dashboard")}},{key:"getAccessOptions",value:function(){var t=[{label:Object(J.a)("site.access.public"),value:"public",icon:"user"},{label:Object(J.a)("site.access.private"),value:"private",icon:"lock"}];return e.Simpplr.Settings.isUnlistedSitesEnabled&&"unlisted"===this.props.access?[].concat(t,[{label:Object(J.a)("site.access.unlisted"),value:"unlisted",icon:"unlisted"}]):t}},{key:"getContentOptions",value:function(){var e={page:"pages",event:"calendar",album:"albums"},t={page:"hasPagesEnabled",event:"hasEventsEnabled",album:"hasAlbumsEnabled"};return this.props.enabledContentTypes.map((function(a){return{label:Object(J.a)("site.content.".concat(a)),value:t[a],icon:e[a],isDisabled:!1}}))}},{key:"isConnectedToSelectedStorageProvider",value:function(e){var t=this.props,a=t.hasBoxAccount,n=t.hasGoogleDriveAccount,r=t.hasDropboxAccount,c=t.hasSharePointAccount,o=t.hasOneDriveAccount;switch(e){case"googledrive":return n;case"box":return a;case"dropbox":return r;case"onedrive":return o;case"sharepoint":return c;default:return!0}}},{key:"render",value:function(){var t=this,a=this.props,n=a.submitting,r=a.handleSubmit,c=a.nextLinkTo,o=a.initialValues,l=a.accessibleCategories,i=a.isCategoriesLoading,s=a.isAppManager,u=a.isAppContentSubmissionsEnabled,m=a.isOwner,d=a.storageProviders,p=a.originalStorageProvider,b=a.selectedStorageProvider,g=a.hasDashboard,f=a.landingPage,h=a.dirty,v=a.landingPageOptions,O=a.isFeedEnabled,E=a.isFeedOnContentEnabled,y=a.feedMode,j=a.isQuestionSubmissionEnabled,C=a.isPublicSite;if(i)return _.a.createElement(A.a,null);var P=[Object(J.a)("site.access_description.private"),Object(J.a)("site.access_description.public")];e.Simpplr.Settings.isUnlistedSitesEnabled&&P.push(Object(J.a)("site.access_description.unlisted"));var k=this.getContentOptions(),N=k.size?"h6":"h5",z=d&&d.map((function(e){return{value:e.get("id"),label:Object(J.a)("files.system_folder.".concat(e.get("id"),"_files"))}})).sortBy((function(e){return e.label}));return _.a.createElement("form",{onSubmit:r(this.onSubmit)},_.a.createElement(x.a,{when:h&&!n}),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column large-8 large-centered"},_.a.createElement(R.a,{text:Object(J.a)("manage_site.form.details_heading")}),_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:U.a,name:"name",id:"site-name",label:Object(J.a)("manage_site.form.site_name"),maxLength:40,required:!0,validate:[X.E]})),_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:T.a,name:"description",id:"site-description",label:Object(J.a)("manage_site.form.about"),maxLength:1e3,showRemainingCharactersCount:!0})),_.a.createElement("div",{className:"note--alt u-marg-t--small u-marg-b--medium"},_.a.createElement("p",null,Object(J.a)("manage_site.form.about_note"))),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column small-12 medium-7"},_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:B.a,name:"categoryId",id:"categoryId",label:Object(J.a)("manage_site.form.category"),placeholder:s?Object(J.a)("manage_site.form.category_placeholder_manager"):Object(J.a)("common.select_placeholder"),options:l.map((function(e){return{value:e.get("categoryId"),label:e.get("name")}})).toArray(),canCreate:s,hasClearButton:!0,validate:[X.E],makeOption:function(e){return{value:e.value||e.label,label:e.label}},isStaticLabel:!0,isMinHeight:!0})))),_.a.createElement("div",{className:"note--alt"},_.a.createElement("p",null,Object(J.a)("manage_site.form.categories_note")),s&&_.a.createElement("p",{className:"u-marg-t--small"},Object(J.a)("manage_site.form.categories_note_extended"),"",_.a.createElement(S.a,{to:"/manage/site-categories"},Object(J.a)("manage_site.form.categories_note_extended_link")))),_.a.createElement("div",{className:"u-marg-t--xxlarge u-pad-t--xxlarge u-border-top"},_.a.createElement(R.a,{text:Object(J.a)("manage_site.form.access_heading")}),_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:q.a,name:"access",options:this.getAccessOptions(),hasLargeIcons:!0,isFullWidth:this.getAccessOptions().length>2,validate:[X.E]})),_.a.createElement("div",{className:"note--alt u-marg-b--medium"},_.a.createElement("p",null,Object(J.a)("manage_site.form.access_note_public")),_.a.createElement("p",null,Object(J.a)("manage_site.form.access_note_private")),_.a.createElement("p",null,Object(J.a)("manage_site.form.access_note_unlisted"))),C&&_.a.createElement("div",{className:"u-marg-b--medium"},_.a.createElement("h3",{className:"u-marg-b--small type--b2 type--500"},Object(J.a)("manage_site.form.membership_request_heading")),_.a.createElement("div",{className:"note--alt u-marg-b--medium"},_.a.createElement("p",null,Object(J.a)("manage_site.form.membership_request_note"))),_.a.createElement("div",{className:"u-marg-b--mediumLarge"},_.a.createElement(w.Field,{component:L.a,name:"isMembershipAutoApproved",id:"is-membership-automatically-approved",options:[{label:Object(J.a)("manage_site.form.membership_approval_manual"),value:"no"},{label:Object(J.a)("manage_site.form.membership_approval_automatic"),value:"yes"}],isStacked:!0,isLight:!0}))),_.a.createElement("div",{className:"u-marg-b--small"},_.a.createElement(w.Field,{component:M.a,name:"isBroadcast",id:"site-broadcast",label:Object(J.a)("manage_site.form.broadcast"),note:Object(J.a)("manage_site.form.broadcast_note")}))),_.a.createElement("div",{className:"u-marg-t--xxlarge u-pad-t--xxlarge u-border-top"},!!k.size&&_.a.createElement("div",{className:"u-marg-b--mediumlarge"},j?_.a.createElement("h2",{className:"type--h5 type--title"},Object(J.a)("manage_site.form.features_heading_question_included")):_.a.createElement("h2",{className:"type--h5 type--title"},Object(J.a)("manage_site.form.features_heading"))),!!k.size&&_.a.createElement(_.a.Fragment,null,_.a.createElement("h4",{className:"type--h6 u-marg-b--small type--title"},Object(J.a)("manage_site.form.content_type")),_.a.createElement("div",{className:"u-marg-b--xlarge"},_.a.createElement("div",{className:"u-grid"},k.map((function(e){return _.a.createElement("div",{className:"u-grid-item small-6 medium-4",key:e.value},_.a.createElement(w.Field,{component:D.a,icon:e.icon,label:e.label,name:e.value,hasLegacyIcon:!1,hasLargeIcon:!0,hasDarkIcon:!0,hasBorder:!0}))}))))),u&&_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement("h4",{className:"type--".concat(N," u-marg-b--small type--title")},Object(J.a)("manage_site.form.content_submission")," ",_.a.createElement("span",{className:"note"},"(",Object(J.a)("manage_site.form.content_submission_note"),")")),_.a.createElement(w.Field,{component:L.a,name:"isContentSubmissionsEnabled",id:"is-content-submissions-enabled",options:[{label:Object(J.a)("common.enable"),value:"yes"},{label:Object(J.a)("common.disable"),value:"no"}],isStacked:!0,isLight:!0})),j&&_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement("h4",{className:"type--".concat(N," u-marg-b--small type--title")},Object(J.a)("manage_site.form.questions_and_answers")," ",_.a.createElement("span",{className:"note"},"(",Object(J.a)("manage_site.form.questions_note"),")")),_.a.createElement(w.Field,{component:L.a,name:"isQuestionAnswerEnabled",id:"is-question-answer-enabled",options:[{label:Object(J.a)("common.enable"),value:"yes"},{label:Object(J.a)("common.disable"),value:"no"}],isStacked:!0,isLight:!0})),_.a.createElement("h4",{className:"type--".concat(N," u-marg-b--small type--title")},Object(J.a)("manage_site.form.landing_page")," ",_.a.createElement("span",{className:"note"},"(",Object(J.a)("manage_site.form.landing_page_note"),")")),_.a.createElement(w.Field,{component:L.a,name:"hasDashboard",options:[{label:Object(J.a)("common.dashboard"),value:"yes"},{label:Object(J.a)("manage_site.form.choose_landing_page"),value:"no"}],onChange:this.onDashboardChange,isStacked:!0,isLight:!0}),!g&&_.a.createElement("div",{className:"u-marg-t--medium"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column small-12 medium-6"},_.a.createElement(w.Field,{component:F.a,name:"landingPage",id:"landingPage",label:Object(J.a)("manage_site.form.landing_page"),options:v,selected:f,isRequired:!0}))))),m&&z.size>0&&_.a.createElement("div",{className:"u-marg-t--xxlarge u-pad-t--xxlarge u-border-top"},_.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(R.a,{text:Object(J.a)("manage_site.form.external_files_header"),note:_.a.createElement(_.a.Fragment,null,_.a.createElement("p",null,Object(J.a)("manage_site.form.external_files_note")),(z.size>1||1===z.size&&"crm"!==z.first().value)&&_.a.createElement("p",{className:"u-marg-t--small"},Object(J.a)("manage_site.form.external_files_note_extended")," ",_.a.createElement(S.a,{to:"/my-settings/external-apps"},Object(J.a)("manage_site.form.external_files_note_extended_link"))))})),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column small-12 medium-6"},_.a.createElement(w.Field,{component:B.a,name:"storageProvider",id:"storageProvider",label:Object(J.a)("manage_site.form.storage_provider"),options:z.toArray(),placeholder:Object(J.a)("manage_site.form.storage_provider_placeholder"),hasClearButton:!0,isStaticLabel:!0})),_.a.createElement("div",{className:"column small-12 medium-6"},"dropbox"===b&&_.a.createElement(w.Field,{component:F.a,name:"dropboxRootPermission",id:"dropboxRootPermission",label:Object(J.a)("manage_site.form.dropbox_permission_label"),options:[{value:"read",label:Object(J.a)("manage_site.form.dropbox_permission.read")},{value:"readwrite",label:Object(J.a)("manage_site.form.dropbox_permission.read_write")}],isRequired:!0}))))),O&&E&&y!==G.d.TIMELINE&&_.a.createElement("div",{className:"u-marg-t--xxlarge u-pad-t--xxlarge u-border-top"},_.a.createElement(R.a,{text:Object(J.a)("manage_site.form.content_comments_heading"),note:Object(J.a)("manage_site.form.content_comments_note")}),_.a.createElement("h4",{className:"type--".concat(N," u-marg-b--small type--title")},Object(J.a)("manage_site.form.comments_and_replies")),_.a.createElement(w.Field,{component:L.a,name:"isContentFeedEnabled",id:"is-content-feed-enabled",options:[{label:Object(J.a)("common.enabled"),value:"yes"},{label:Object(J.a)("common.disabled"),value:"no"}],onChange:this.onIsContentFeedEnabledChange,isStacked:!0,isLight:!0})))),_.a.createElement("div",{className:"Strip Strip--large u-cf"},_.a.createElement(I.a,{type:"submit",appearance:"brand",size:"large",disabled:n},o.has("siteId")?Object(J.a)("button_label.save"):Object(J.a)("manage_site.form.add_site")),!o.has("siteId")&&(c?_.a.createElement(S.a,{to:c,className:"Strip-cancel"},Object(J.a)("button_label.cancel")):_.a.createElement("a",{href:"".concat(e.Simpplr.Settings.appUrl,"?u=/sites"),className:"Strip-cancel"},Object(J.a)("button_label.cancel")))),this.shouldMountStorageProviderWarningModal()&&_.a.createElement(V.a,{name:W.Yb,id:this.props.dashboardId,title:Object(J.a)("manage_sites.storage.change_modal.title",{providerName:Object(J.a)("app.".concat(p))}),buttonText:Object(J.a)("manage_sites.storage.change_modal.disconnect"),onConfirm:function(){return t.props.handleSubmit((function(e){return t.onSubmit(e,!1)}))()}},_.a.createElement("p",null,"googledrive"===p?Object(J.a)("manage_sites.storage.change_modal.google_drive.confirmation_message"):Object(J.a)("manage_sites.storage.change_modal.confirmation_message",{providerName:Object(J.a)("app.".concat(p))})),_.a.createElement("ol",{className:"u-pad-t--small"},_.a.createElement("li",null,"googledrive"===p?Object(J.a)("manage_sites.storage.change_modal.google_drive.warning_message"):Object(J.a)("manage_sites.storage.change_modal.warning_message",{providerName:Object(J.a)("app.".concat(p))})))))}}]),n}(_.a.Component);f()(ae,"propTypes",{onSubmit:y.a.func.isRequired,initialValues:y.a.instanceOf(O.a.Map),nextLinkTo:y.a.string,feedMode:y.a.string}),t.a=Object(C.connect)((function(e,t){var a=t.initialValues,n=te(a),r=ee(e,"access"),c=ee(e,"isContentFeedEnabled"),o=ee(e,"isContentSubmissionsEnabled"),l=Object(Q.C)(e,z.i),i=Object(Q.v)(e,"feedEnabled"),s=Object(Q.v)(e,"feedOnContentEnabled"),u=n.get("isOwner"),m=a&&a.getIn(["category","id"]),d=Object(Y.a)(e);m&&d.size>0&&(d.get(m)||(d=d.set(m,t.initialValues.get("category"))));var p=Object(Q.d)(e).filter((function(t){return"blog"!==t&&Object(Q.I)(e,t)})),b=Object(Q.h)(e),g=void 0===ee(e,"hasDashboard")?n.get("hasDashboard"):"no"!==ee(e,"hasDashboard"),f=Object(H.isCurrentUserAppManager)(e),h=Object(Q.v)(e,"contentSubmissionsEnabled"),v=p.contains("page")&&!1!==ee(e,"hasPages"),E=p.contains("event")&&!1!==ee(e,"hasEvents"),y=p.contains("album")&&!1!==ee(e,"hasAlbums"),j=[{key:"feed",label:Object(J.a)("manage_site.form.tabs.feed")},{key:"content",label:Object(J.a)("manage_site.form.tabs.content")},{key:"files",label:Object(J.a)("manage_site.form.tabs.files")},{key:"about",label:Object(J.a)("manage_site.form.tabs.about")}].filter((function(e){switch(e.key){case"feed":return i;case"pages":return v;case"events":return E;case"albums":return y;default:return!0}})).map((function(e){return{value:e.key,label:e.label}})),_=n.get("landingPage");"dashboard"===_&&(_="feed");var C=ee(e,"landingPage")||_,S=j.find((function(e){return e.value===C})),w=ee(e,"storageProvider"),P=b.filter((function(e){return e.get("id")===w})),k=!(p.find((function(e){return e===_}))||"feed"===_&&i),N=u&&!b.find((function(e){return e.get("id")===n.get("storageProvider")})),I=w&&b.find((function(e){return e.get("id")===w}))||new O.a.Map({id:"intranet",name:Object(J.a)("search.section.files")}),R=S?S.value:j[0]&&j[0].value;return n=n.merge({storageProvider:N?I.get("id"):n.get("storageProvider"),landingPage:k?R:n.get("landingPage")}),{isAppManager:f,isAppContentSubmissionsEnabled:h,isContentFeedEnabled:c,isContentSubmissionsEnabled:o,isFeedEnabled:i,isFeedOnContentEnabled:s,isOwner:u,accessibleCategories:d,storageProviders:b,hasDashboard:g,isPagesEnabled:v,isPublicSite:"public"===r,isEventsEnabled:E,isAlbumsEnabled:y,landingPageOptions:j,landingPage:R,isCategoriesLoading:Object(Y.e)(e),categories:Object(Y.b)(e),access:a.get("access"),enabledContentTypes:p,selectedStorageProvider:P.isEmpty()?null:w,selectedDropBoxPermission:ee(e,"dropboxRootPermission"),initialValues:n,hasBoxAccount:Object(H.hasConnectedBoxAccount)(e),hasGoogleDriveAccount:Object(H.hasConnectedGoogleDriveAccount)(e),hasDropboxAccount:Object(H.hasConnectedDropboxAccount)(e),hasSharePointAccount:Object(H.hasConnectedSharePointAccount)(e),hasOneDriveAccount:Object(H.hasConnectedOneDriveAccount)(e),originalStorageProvider:n&&n.get("storageProvider"),feedMode:Object(Q.i)(e),isQuestionSubmissionEnabled:l}}),(function(e){return{loadCategories:function(){return e(Object(N.d)({size:1e4}))},openStorageChangeModal:function(){return e(Object(k.open)(W.Yb))},showStorageNotConnectedWarning:function(t,a){var n=Object(J.a)("manage_sites.unconnected_storage_option_error_flash",{storageProviderName:t});return e(Object(P.g)(n,a))},clearStorageNotConnectedWarning:function(){return e(Object(P.d)())}}}))(Object(w.reduxForm)({form:$,validate:function(e,t){var a={};return a.category||!t.categories.has(e.getIn(["category","value"]))||t.accessibleCategories.has(e.getIn(["category","value"]))||(a.category=Object(J.a)("site.add.add_to_category_error")),a},enableReinitialize:!0,onSubmitFail:X.H})(ae))}).call(this,a(27))},3516:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(0),o=a.n(c);function l(e){var t=e.text,a=e.note;return o.a.createElement("div",{className:"u-marg-b--mediumlarge"},o.a.createElement("h2",{className:"type--h5 type--title"},t),a&&o.a.createElement("span",{className:"note--alt u-marg-t--small"},a))}l.propTypes={text:r.a.string.isRequired,note:r.a.node},t.a=l},3517:function(e,t,a){"use strict";(function(e){var n=a(20),r=a.n(n),c=a(5),o=a.n(c),l=a(34),i=a.n(l),s=a(15),u=a.n(s),m=a(2803),d=a.n(m),p=a(1),b=a.n(p),g=a(0),f=a.n(g),h=a(208),v=a(55),O=a(215),E=a(560),y=a(654),j=a(3);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(t){var a=t.siteId,n=t.children,c=Object(E.c)(),l=Object(E.b)(),s=Object(y.a)(e.Simpplr.Salesforce.Site.getExternalAppsSettings,{siteId:a}),m=s.loading,p=s.result,b=s.reload,_=Object(g.useCallback)(function(){var t=i()(r.a.mark((function t(n){var o,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=C({siteId:a},n),i=["channelId","channelUrl"],(o.channelUrl||o.channelId)&&(i=o.channelUrl?["channelId","channelName"]:"channelUrl"),s=d()(o,i),t.next=7,e.Simpplr.Salesforce.Site.saveSiteExternalAppsConfig(s);case 7:c(Object(j.a)("common.saved_changes_flash")),b(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),l(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),[]);if(m)return f.a.createElement(O.a,null);var S,w=p.listOfApps.reduce((function(e,t){return C(C({},e),{},o()({},t.name,t))}),{}),P={};w.slack&&(S={slackSendFeed:w.slack.options.sendFeed||"only-posts"},o()(S,!w.slack.options.channelUrl&&"channelId",w.slack.options.channelId),o()(S,!w.slack.options.channelUrl&&"channelName",w.slack.options.channelName),o()(S,!w.slack.options.channelId&&"channelUrl",w.slack.options.channelUrl),P=S);return w.teams&&(P=C({teamsSendFeed:w.teams.options.sendFeed||"only-posts",teamsWebhookUrl:w.teams.options.webhookUrl},P)),f.a.createElement(h.b,{onSubmit:_,initialValues:P},(function(e){var t=e.submitting,a=e.handleSubmit,r=u()({Form:!0,"is-disabled":t});return f.a.createElement("form",{className:r,onSubmit:a},n(w,e),f.a.createElement("div",{className:"Strip Strip--large"},f.a.createElement(v.a,{label:Object(j.a)("button_label.save"),type:"submit",disabled:t,appearance:"brand"})))}))}S.propTypes={siteId:b.a.string.isRequired,children:b.a.func.isRequired},t.a=S}).call(this,a(27))},3518:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return d}));var n=a(5),r=a.n(n),c=(a(4),a(0)),o=a(670),l=a(2669),i=(a(478),a(275));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=function(t){var a=Object(c.useCallback)((function(e,a){return Object(l.b)(e,t,a)}),[t]),n=Object(c.useCallback)((function(e){return function(e,t){return function(a){return a(Object(o.c)(e,t,!0))}}(t,e)}),[t]);return{endpoint:e.Simpplr.Salesforce.PageCategory.search,itemSelector:a,itemActionCreator:n,itemName:"pageCategories"}};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(u(u({},m(e)),t))}}).call(this,a(27))},3519:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return p}));var n=a(20),r=a.n(n),c=a(34),o=a.n(c),l=a(0),i=a(18),s=a(670),u=a(560),m=a(26),d=a(3);function p(t,a,n){var c=Object(i.useDispatch)(),p=Object(u.c)(),b=Object(u.b)();return{handleEdit:Object(l.useCallback)(function(){var a=o()(r.a.mark((function a(o){var l,i,u,g;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l=o.id,i=o.name,a.prev=1,!l){a.next=10;break}return a.next=5,e.Simpplr.Salesforce.PageCategory.edit(l,{name:i,siteId:t});case 5:u=a.sent,c(Object(s.d)(t,u.result,!0)),p(Object(d.a)("page_category.edit.success_flash")),a.next=16;break;case 10:return a.next=12,e.Simpplr.Salesforce.PageCategory.create({name:i,siteId:t});case 12:g=a.sent,c(Object(s.d)(t,g.result,!0)),p(Object(d.a)("page_category.create.success_flash")),n(g.result.id);case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(1),b(Object(m.a)(a.t0));case 21:case"end":return a.stop()}}),a,null,[[1,18]])})));return function(e){return a.apply(this,arguments)}}(),[c,b,p,n,t]),handleDelete:Object(l.useCallback)(function(){var e=o()(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(Object(s.a)(t,n));case 3:a(n),p(Object(d.a)("page_category.delete.success_flash")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(Object(m.a)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,b,t,a])}}}).call(this,a(27))},3521:function(e,t,a){"use strict";(function(e){var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(7),i=a.n(l),s=a(12),u=a.n(s),m=a(13),d=a.n(m),p=a(8),b=a.n(p),g=a(5),f=a.n(g),h=(a(1),a(0)),v=a.n(h),O=a(18),E=a(14),y=a(190),j=a(138),_=a(55),C=a(129),S=a(254),w=a(114),P=a(767),k=a(2598),N=a(51),I=a(35),R=a(90),A=a(3);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var M=function(t){u()(n,t);var a=x(n);function n(){var t;r()(this,n);for(var c=arguments.length,o=new Array(c),l=0;l<c;l++)o[l]=arguments[l];return t=a.call.apply(a,[this].concat(o)),f()(i()(t),"state",{isLoading:!0,status:null,site:null,user:null}),f()(i()(t),"getRequestId",(function(){return t.props.match.params.requestId})),f()(i()(t),"getNotificationId",(function(){return t.props.location.query.notificationId})),f()(i()(t),"loadRequest",(function(a,n){t.setState({isLoading:!0,site:null,user:null}),e.Simpplr.Salesforce.Site.getFollowRequest(a,n).then((function(e){var a=e.result;t.setState({isLoading:!1,status:(a.status||"pending").toLowerCase(),user:Object(I.e)(a.user),site:Object(N.b)(a.site)})}))})),f()(i()(t),"confirm",(function(a){var n=t.getRequestId(),r=t.getNotificationId();e.Simpplr.Salesforce.Site["".concat(a,"FollowRequest")](n,r).then((function(){t.props.success(Object(A.a)("site.action.".concat(a,".success_message"))),Object(R.e)({pathname:"/notifications/actionable"})}))})),f()(i()(t),"reject",(function(){return t.confirm("reject")})),f()(i()(t),"approve",(function(){return t.confirm("approve")})),t}return o()(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.getRequestId();this.loadRequest(e,this.getNotificationId())}},{key:"componentDidUpdate",value:function(e){var t=e.match.params.requestId,a=this.getRequestId();a!==t&&this.loadRequest(a,this.getNotificationId())}},{key:"render",value:function(){var e=this.state,t=e.status,a=e.site,n=e.user,r=e.isLoading;return v.a.createElement(y.a,{name:"PrivateSiteFollowRequest",text:Object(A.a)("manage_site.request.title")},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"column"},v.a.createElement("div",{className:"Page"},v.a.createElement("header",{className:"Page-header"},v.a.createElement("div",{className:"Page-header-inner"},v.a.createElement("div",{className:"u-marg-b--large"},v.a.createElement("h1",{className:"Page-heading type--h4"},Object(A.a)("manage_site.request.title"))))),r?v.a.createElement("div",{className:"u-pad-tb--xxxlarge u-posRelative"},v.a.createElement(C.a,null)):v.a.createElement("div",{className:"RequestAccess"},v.a.createElement("div",{className:"RequestAccess-avatar"},v.a.createElement(w.a,{img:n.get("img"),name:n.get("name"),url:n.get("url")})),v.a.createElement("div",{className:"RequestAccess-details u-textCenter"},v.a.createElement(P.a,{size:"large",name:n.get("name"),title:n.get("title"),department:n.get("department"),street:n.get("street"),location:n.get("location"),division:n.get("division"),company:n.get("company"),peopleId:n.get("peopleId"),url:n.get("url")})),v.a.createElement("div",{className:"RequestAccess-separator"},v.a.createElement("span",{className:"RequestAccess-separatorText type--b2"},Object(A.a)("manage_site.request.description"))),v.a.createElement("div",{className:"RequestAccess-site"},v.a.createElement("div",{className:"RequestAccess-emblem"},v.a.createElement(S.a,{url:a.get("url"),img:a.get("img")})),v.a.createElement("div",{className:"RequestAccess-name type--h5 type--500"},v.a.createElement(j.a,{name:a.get("name"),access:a.get("access")}))),v.a.createElement("div",{className:"RequestAccess-buttons"},"rejected"===t||"approved"===t?v.a.createElement("p",null,Object(A.a)("manage_site.request.already_actioned.".concat(t))):v.a.createElement(v.a.Fragment,null,v.a.createElement(_.a,{label:Object(A.a)("button_label.reject"),size:"large",appearance:"danger",hasMinWidth:!0,onClick:this.reject}),v.a.createElement(_.a,{label:Object(A.a)("button_label.approve"),size:"large",appearance:"brand",hasMinWidth:!0,onClick:this.approve}))))))))}}]),n}(v.a.Component);f()(M,"propTypes",{}),t.a=Object(O.connect)(null,{success:E.j})(Object(k.a)(M))}).call(this,a(27))},3522:function(e,t,a){"use strict";(function(e){var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(7),i=a.n(l),s=a(12),u=a.n(s),m=a(13),d=a.n(m),p=a(8),b=a.n(p),g=a(5),f=a.n(g),h=a(2938),v=a(4),O=a.n(v),E=a(1),y=a.n(E),j=a(0),_=a.n(j),C=a(18),S=a(53),w=a(37),P=a(553),k=a(55),N=a(215),I=a(2003),R=a(225),A=a(2681),x=a(655),M=a(242),D=a(656),T=a(1006),F=a(117),L=a(140),q=a(30),B=a(17),U=a(1136),V=a(3),z=a(47);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b()(e);if(t){var r=b()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var W="SITE_FORM",H=Object(w.formValueSelector)(W);var Q=function(t){u()(n,t);var a=G(n);function n(e){var t;return r()(this,n),(t=a.call(this,e)).onSubmit=t.onSubmit.bind(i()(t)),t.onDashboardChange=t.onDashboardChange.bind(i()(t)),t.getAccessOptions=t.getAccessOptions.bind(i()(t)),t.getContentOptions=t.getContentOptions.bind(i()(t)),t.showUnlisted=t.showUnlisted.bind(i()(t)),t}return o()(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.loadCategories()}},{key:"onSubmit",value:function(e){var t=this;if("function"!=typeof this.props.onSubmit)return null;var a=Object(h.a)("add",e,this.props.accessibleCategories);return this.props.onSubmit(a).then((function(){return t.props.initialize(t.props.initialValues)}))}},{key:"onDashboardChange",value:function(e,t){this.props.change("landingPage","no"===t?this.props.landingPageOptions[0].value:"dashboard")}},{key:"getAccessOptions",value:function(){var e=[{label:Object(V.a)("site.access.public"),value:"public",icon:"user"},{label:Object(V.a)("site.access.private"),value:"private",icon:"lock"}];return this.showUnlisted()?[].concat(e,[{label:Object(V.a)("site.access.unlisted"),value:"unlisted",icon:"unlisted"}]):e}},{key:"getContentOptions",value:function(){var e={page:"pages",event:"calendar",album:"albums"},t={page:"hasPages",event:"hasEvents",album:"hasAlbums"};return this.props.enabledContentTypes.map((function(a){return{label:Object(V.a)("site.content.".concat(a)),value:t[a],icon:e[a],isDisabled:!1}}))}},{key:"showUnlisted",value:function(){var t=this.props.initialValues;return t.has("siteId")?"unlisted"===t.get("access"):e.Simpplr.Settings.isUnlistedSitesEnabled}},{key:"render",value:function(){var t=this.props,a=t.access,n=t.submitting,r=t.handleSubmit,c=t.nextLinkTo,o=t.initialValues,l=t.accessibleCategories,i=t.isCategoriesLoading,s=t.isAppManager,u=t.isAppContentSubmissionsEnabled,m=t.hasDashboard,d=t.landingPage,p=t.dirty,b=t.landingPageOptions,g=t.isQuestionSubmissionEnabled;if(i)return _.a.createElement(N.a,null);var f=[Object(V.a)("site.access_description.private"),Object(V.a)("site.access_description.public")];this.showUnlisted()&&f.push(Object(V.a)("site.access_description.unlisted"));var h=this.getContentOptions(),v=h.size?"h6":"h5";return _.a.createElement("form",{onSubmit:r(this.onSubmit)},_.a.createElement(I.a,{when:p&&!n}),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column large-8 large-centered"},_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement("h2",{className:"type--h5 type--500 u-marg-r--small u-inlineBlock"},Object(V.a)("manage_site.form.details_heading"))),_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:F.a,name:"name",id:"site-name",label:Object(V.a)("manage_site.form.site_name"),maxLength:40,required:!0,validate:[z.E]})),_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column small-12 medium-7"},_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:T.a,name:"category",id:"category",label:Object(V.a)("manage_site.form.category"),placeholder:s?Object(V.a)("manage_site.form.category_placeholder_manager"):Object(V.a)("common.select_placeholder"),options:l.map((function(e){return{value:e.get("categoryId"),label:e.get("name")}})).toArray(),canCreate:s,hasClearButton:!0,validate:[z.E],makeOption:function(e){return{value:e.value||e.label,label:e.label}},isStaticLabel:!0,isMinHeight:!0})))),_.a.createElement("div",{className:"note--alt"},_.a.createElement("p",null,Object(V.a)("manage_site.form.categories_note")),s&&_.a.createElement("p",null,Object(V.a)("manage_site.form.categories_note_extended")," ",_.a.createElement(S.a,{to:"/manage/site-categories"},Object(V.a)("manage_site.form.categories_note_extended_link")))),_.a.createElement("div",{className:"u-marg-t--xxlarge u-pad-t--xxlarge u-border-top"},_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement("h2",{className:"type--h5 type--500 u-marg-r--small u-inlineBlock"},Object(V.a)("manage_site.form.access_heading"))),_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement(w.Field,{component:D.a,name:"access",options:this.getAccessOptions(),hasLargeIcons:!0,isFullWidth:this.getAccessOptions().length>2,validate:[z.E]})),_.a.createElement("div",{className:"note--alt u-marg-b--medium"},_.a.createElement("p",null,Object(V.a)("manage_site.form.access_note_public")),_.a.createElement("p",null,Object(V.a)("manage_site.form.access_note_private")),_.a.createElement("p",null,Object(V.a)("manage_site.form.access_note_unlisted"))),"public"===a&&_.a.createElement("div",{className:"u-marg-b--medium"},_.a.createElement("h3",{className:"u-marg-b--small type--b2 type--500"},Object(V.a)("manage_site.form.membership_request_heading")),_.a.createElement("div",{className:"note--alt u-marg-b--medium"},_.a.createElement("p",null,Object(V.a)("manage_site.form.membership_request_note"))),_.a.createElement("div",{className:"u-marg-b--mediumLarge"},_.a.createElement(w.Field,{component:M.a,name:"isMembershipAutoApproved",id:"is-membership-automatically-approved",options:[{label:Object(V.a)("manage_site.form.membership_approval_manual"),value:"no"},{label:Object(V.a)("manage_site.form.membership_approval_automatic"),value:"yes"}],isStacked:!0,isLight:!0}))),_.a.createElement("div",{className:"u-marg-b--small"},_.a.createElement(w.Field,{component:R.a,name:"isBroadcast",id:"site-broadcast",label:Object(V.a)("manage_site.form.broadcast"),note:Object(V.a)("manage_site.form.broadcast_note")}))),_.a.createElement("div",{className:"u-marg-t--xxlarge u-pad-t--xxlarge u-border-top"},!!h.size&&_.a.createElement("div",{className:"u-marg-b--mediumlarge"},g?_.a.createElement("h2",{className:"type--h5 type--title"},Object(V.a)("manage_site.form.features_heading_question_included")):_.a.createElement("h2",{className:"type--h5 type--title"},Object(V.a)("manage_site.form.features_heading"))),!!h.size&&_.a.createElement(_.a.Fragment,null,_.a.createElement("h4",{className:"type--h6 u-marg-b--small type--title"},Object(V.a)("manage_site.form.content_type")),_.a.createElement("div",{className:"u-marg-b--xlarge"},_.a.createElement("div",{className:"u-grid"},h.map((function(e){return _.a.createElement("div",{className:"u-grid-item small-6 medium-4",key:e.value},_.a.createElement(w.Field,{component:A.a,icon:e.icon,label:e.label,name:e.value,hasLegacyIcon:!1,hasLargeIcon:!0,hasDarkIcon:!0,hasBorder:!0}))}))))),u&&_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement("h4",{className:"type--".concat(v," u-marg-b--small type--title")},Object(V.a)("manage_site.form.content_submission")," ",_.a.createElement("span",{className:"note"},"(",Object(V.a)("manage_site.form.content_submission_note"),")")),_.a.createElement(w.Field,{component:M.a,name:"isContentSubmissionsEnabled",id:"is-content-submissions-enabled",options:[{label:Object(V.a)("common.enable"),value:"yes"},{label:Object(V.a)("common.disable"),value:"no"}],isStacked:!0,isLight:!0})),g&&_.a.createElement("div",{className:"u-marg-b--mediumlarge"},_.a.createElement("h4",{className:"type--".concat(v," u-marg-b--small type--title")},Object(V.a)("manage_site.form.questions_and_answers")," ",_.a.createElement("span",{className:"note"},"(",Object(V.a)("manage_site.form.questions_note"),")")),_.a.createElement(w.Field,{component:M.a,name:"isQuestionAnswerEnabled",id:"is-question-answer-enabled",options:[{label:Object(V.a)("common.enable"),value:"yes"},{label:Object(V.a)("common.disable"),value:"no"}],isStacked:!0,isLight:!0})),_.a.createElement("h4",{className:"type--".concat(v," u-marg-b--small type--title")},Object(V.a)("manage_site.form.landing_page")," ",_.a.createElement("span",{className:"note"},"(",Object(V.a)("manage_site.form.landing_page_note"),")")),_.a.createElement(w.Field,{component:M.a,name:"hasDashboard",options:[{label:Object(V.a)("common.dashboard"),value:"yes"},{label:Object(V.a)("manage_site.form.choose_landing_page"),value:"no"}],onChange:this.onDashboardChange,isStacked:!0,isLight:!0}),!m&&_.a.createElement("div",{className:"u-marg-t--medium"},_.a.createElement("div",{className:"row"},_.a.createElement("div",{className:"column small-12 medium-6"},_.a.createElement(w.Field,{component:x.a,name:"landingPage",id:"landingPage",label:Object(V.a)("manage_site.form.landing_page"),options:b,selected:d,isRequired:!0}))))))),_.a.createElement("div",{className:"Strip Strip--large u-cf"},_.a.createElement(k.a,{type:"submit",appearance:"brand",size:"large",disabled:n},o.has("siteId")?Object(V.a)("button_label.save"):Object(V.a)("manage_site.form.add_site")),!o.has("siteId")&&(c?_.a.createElement(S.a,{to:c,className:"Strip-cancel"},Object(V.a)("button_label.cancel")):_.a.createElement("a",{href:"".concat(e.Simpplr.Settings.appUrl,"?u=/sites"),className:"Strip-cancel"},Object(V.a)("button_label.cancel")))))}}]),n}(_.a.Component);f()(Q,"propTypes",{onSubmit:y.a.func.isRequired,initialValues:y.a.instanceOf(O.a.Map),nextLinkTo:y.a.string}),t.a=Object(C.connect)((function(e,t){var a=t.initialValues,n=Object(B.v)(e,"feedEnabled"),r=Object(B.v)(e,"contentSubmissionsEnabled"),c=Object(B.C)(e,L.i),o=new O.a.Map({access:"public",hasPages:!0,hasEvents:!0,hasAlbums:!0,hasDashboard:"yes",landingPage:"feed",isContentSubmissionsEnabled:r?"yes":"no",isMembershipAutoApproved:"no",isOwner:!0,isQuestionAnswerEnabled:c?"yes":"no"});a&&(o=(o=(o=(o=(o=(o=o.merge(a)).set("hasDashboard",!1===a.get("hasDashboard")?"no":"yes")).set("isContentFeedEnabled",!1===a.get("isContentFeedEnabled")?"no":"yes")).set("isQuestionAnswerEnabled",!1===a.get("isQuestionAnswerEnabled")?"no":"yes")).set("isContentSubmissionsEnabled",!1===a.get("isContentSubmissionsEnabled")?"no":"yes")).set("isMembershipAutoApproved",!1===a.get("isMembershipAutoApproved")?"no":"yes"));var l=o.get("isOwner"),i=a&&a.getIn(["category","id"]),s=Object(U.a)(e);i&&s.size>0&&(s.get(i)||(s=s.set(i,t.initialValues.get("category"))));var u=Object(B.d)(e).filter((function(t){return"blog"!==t&&Object(B.I)(e,t)})),m=void 0===H(e,"hasDashboard")?o.get("hasDashboard"):"no"!==H(e,"hasDashboard"),d=Object(q.isCurrentUserAppManager)(e),p=u.contains("page")&&!1!==H(e,"hasPages"),b=u.contains("event")&&!1!==H(e,"hasEvents"),g=u.contains("album")&&!1!==H(e,"hasAlbums"),f=[{key:"feed",label:Object(V.a)("manage_site.form.tabs.feed")},{key:"content",label:Object(V.a)("manage_site.form.tabs.content")},{key:"files",label:Object(V.a)("manage_site.form.tabs.files")},{key:"about",label:Object(V.a)("manage_site.form.tabs.about")}].filter((function(e){switch(e.key){case"feed":return n;case"content":return p||b||g;default:return!0}})).map((function(e){return{value:e.key,label:e.label}})),h=o.get("landingPage");"dashboard"===h&&(h="feed");var v=H(e,"landingPage")||h,E=f.find((function(e){return e.value===v})),y=!(u.find((function(e){return e===h}))||"feed"===h&&n),j=E?E.value:f[0]&&f[0].value;return o=o.merge({landingPage:y?j:o.get("landingPage")}),{isAppManager:d,isAppContentSubmissionsEnabled:r,isOwner:l,accessibleCategories:s,hasDashboard:m,isPagesEnabled:p,isEventsEnabled:b,isAlbumsEnabled:g,isFeedEnabled:n,landingPageOptions:f,landingPage:j,isCategoriesLoading:Object(U.e)(e),categories:Object(U.b)(e),access:H(e,"access"),enabledContentTypes:u,initialValues:o,isQuestionSubmissionEnabled:c}}),(function(e){return{loadCategories:function(){return e(Object(P.d)({size:1e4}))}}}))(Object(w.reduxForm)({form:W,validate:function(e,t){var a={};return a.category||!t.categories.has(e.getIn(["category","value"]))||t.accessibleCategories.has(e.getIn(["category","value"]))||(a.category=Object(V.a)("site.add.add_to_category_error")),a},enableReinitialize:!0,keepDirtyOnReinitialize:!0,onSubmitFail:z.H})(Q))}).call(this,a(27))},4073:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(0),o=a.n(c),l=a(18),i=a(36),s=a(544),u=a(30),m=a(20),d=a.n(m),p=a(34),b=a.n(p),g=a(4),f=a.n(g),h=a(553),v=a(165),O=a(190),E=a(479),y=a(212),j=a(55),_=a(37),C=a(242),S=a(117),w=a(52),P=a(113),k=a(448),N=a(123),I=a(3),R=a(47);function A(e){var t=e.onSubmit,a=e.initialValues,n=e.valid,r=e.submitting,l=e.handleSubmit,i=e.close,s=Object(c.useCallback)(function(){var e=b()(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t(a));case 2:i();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,i]),u=a&&a.has("categoryId");return o.a.createElement("form",{onSubmit:l(s)},o.a.createElement("div",{className:"Modal-content"},o.a.createElement("div",{className:"u-marg-b--medium"},o.a.createElement(_.Field,{component:S.a,name:"name",id:"category-name",label:Object(I.a)("common.category_name"),isRequired:!0})),o.a.createElement(_.Field,{component:C.a,name:"access",options:Object(N.c)(["all","app_manager"],"manage_site.site_categories.access"),isStacked:!0,isLight:!0})),o.a.createElement("div",{className:"Strip Strip--modal"},o.a.createElement(j.a,{type:"submit",disabled:!n||r,label:Object(I.a)("button_label.".concat(u?"save":"create")),appearance:"brand"}),o.a.createElement("button",{type:"button",className:"Strip-cancel",onClick:i},Object(I.a)("button_label.cancel"))))}A.propTypes={initialValues:r.a.instanceOf(k.a),onSubmit:r.a.func.isRequired};var x=Object(P.a)((function(e){var t=e.initialValues&&e.initialValues.has("categoryId");return{name:w.Qb,id:t?e.initialValues.get("categoryId"):null,title:Object(I.a)("manage_site.site_categories.title_".concat(t?"edit":"add")),classes:["Modal--small"]}}))(Object(_.reduxForm)({form:"SITE_CATEGORY",validate:function(e){return Object(R.g)(e,{required:["name","access"]})},initialValues:new f.a.Map({access:"all"})})(A)),M=a(1297),D=a(147),T=a(274);function F(e){var t=e.isAppManager;return o.a.createElement("header",{className:"Page-header"},o.a.createElement("div",{className:"Page-header-inner"},o.a.createElement("h1",{className:"Page-heading type--h4"},Object(I.a)("page_title.manage_sites"))),t&&o.a.createElement("div",{className:"Page-tabsContainer"},o.a.createElement(T.a,{isPadded:!1,hasNoBorder:!0},o.a.createElement(D.a,{label:Object(I.a)("common.site_plural"),to:"/manage/sites"}),o.a.createElement(D.a,{label:Object(I.a)("site_category_plural"),to:"/manage/site-categories"}),o.a.createElement(D.a,{label:Object(I.a)("chatter_group_plural"),to:"/manage/chatter-groups"}))))}F.propTypes={isAppManager:r.a.bool};var L=Object(l.connect)((function(e){return{isAppManager:Object(u.isCurrentUserAppManager)(e)}}))(F),q=a(10),B=a.n(q),U=a(11),V=a.n(U),z=a(7),G=a.n(z),W=a(12),H=a.n(W),Q=a(13),Y=a.n(Q),K=a(8),J=a.n(K),X=a(5),Z=a.n(X),$=a(71),ee=a.n($),te=a(94),ae=a(241),ne=a(70),re=a(215),ce=a(1003),oe=a(227),le=a(667);function ie(e){var t=e.isMultiple?10:1;return o.a.createElement("div",null,o.a.createElement("p",null,Object(I.a)("modal.confirm.warning.delete_site_category",{count:t})),o.a.createElement("strong",{className:"type--500"},Object(I.a)("common.cannot_be_undone")))}ie.propTypes={categoryId:r.a.string,isMultiple:r.a.bool,onConfirm:r.a.func};var se=Object(le.a)((function(e){var t=e.isMultiple?10:1;return{name:w.Pb,id:e.isMultiple?"multiple":e.categoryId,title:Object(I.a)("modal.confirm.warning.delete_site_category",{count:t}),buttonText:Object(I.a)("button_label.delete"),onConfirm:e.onConfirm}}))(ie);function ue(e){var t=e.category,a=e.openEditModal,n=e.openDeleteModal,r=e.edit,c=e.deleteCategory;return t.get("isUncategorized")?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(se,{categoryId:t.get("categoryId"),onConfirm:c}),o.a.createElement(x,{initialValues:t,onSubmit:r}),o.a.createElement(ce.a,null,o.a.createElement(oe.a,{label:Object(I.a)("button_label.edit"),onSelect:a}),0===t.get("siteCount")&&o.a.createElement(oe.a,{label:Object(I.a)("button_label.delete"),onSelect:n})))}ue.propTypes={category:r.a.instanceOf(k.a)};var me=Object(l.connect)(null,(function(e,t){return{openDeleteModal:function(){return e(Object(te.open)(w.Pb,t.category.get("categoryId")))},openEditModal:function(){return e(Object(te.open)(w.Qb,t.category.get("categoryId")))},deleteCategory:function(){return e(Object(h.b)([t.category.get("categoryId")]))},edit:function(a){return e(Object(h.c)(t.category.get("categoryId"),a))}}}))(ue);function de(e){var t=e.category,a=e.children;return o.a.createElement("tr",null,o.a.createElement("td",{className:"cell-category cell-category-name"},o.a.createElement("h4",{className:"type--b2"},t.get("name"))),o.a.createElement("td",{className:"cell-access"},Object(I.a)("common.permission.".concat(t.get("access")))),o.a.createElement("td",{className:"cell-sites"},t.get("siteCount")),o.a.createElement("td",{className:"table-options"},o.a.createElement("div",{className:"custom-input"},a||null),o.a.createElement(me,{category:t})))}de.propTypes={category:r.a.instanceOf(k.a)};var pe=de;function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var ge=function(e){H()(a,e);var t=be(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"shouldComponentUpdate",value:function(e){return!f.a.is(this.props.categories,e.categories)||this.props.isLoading!==e.isLoading||this.props.canPaginate!==e.canPaginate||this.props.onLoadMore!==e.onLoadMore}},{key:"render",value:function(){var e=this.props,t=e.categories,a=e.isLoading,n=e.canPaginate,r=e.onLoadMore,c=e.itemComponent;return 0===t.size?a?o.a.createElement(re.a,null):o.a.createElement(ne.a,null):o.a.createElement("div",{className:"index-content index-category"},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"cell-category cell-category-name"},Object(I.a)("listing.heading.category")),o.a.createElement("th",{className:"cell-access"},Object(I.a)("listing.heading.add_site")),o.a.createElement("th",{className:"cell-sites"},Object(I.a)("listing.heading.sites")),o.a.createElement("th",{className:"table-options"},Object(I.a)("listing.heading.options")))),o.a.createElement("tbody",null,t.map((function(e){return o.a.cloneElement(c,{category:e,key:e.categoryId})})))),o.a.createElement(ae.a,{canLoad:n,onLoad:r,isLoading:a}))}}]),a}(o.a.Component);Z()(ge,"propTypes",{categories:r.a.instanceOf(f.a.List),isLoading:r.a.bool,canPaginate:r.a.bool,onLoadMore:r.a.func,itemComponent:r.a.func}),Z()(ge,"defaultProps",{itemComponent:pe});var fe=ge,he=a(2615);function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var Oe=function(e){var t=e.BulkCheckbox,a=ee()(e,["BulkCheckbox"]);return o.a.createElement(pe,a,o.a.createElement(t,{id:a.category.get("id"),isDisabled:a.category.get("isUncategorized")}))},Ee=function(e){H()(a,e);var t=ve(a);function a(){var e;B()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Z()(G()(e),"state",{selectedIds:null}),e}return V()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.categories,n=t.isLoading,r=t.canPaginate,c=t.onLoadMore,l=t.deleteCategories,i=t.openDeleteModal,s=t.removeId,u=new f.a.List([new f.a.Map({label:Object(I.a)("common.delete"),checkItemValid:function(e){return 0===e.get("siteCount")&&!1===e.get("isUncategorized")},invalidItemsMessage:Object(I.a)("manage_site_categories.delete.not_empty.danger_flash"),onSelect:function(t){return e.setState({selectedIds:t},i)}})]);return o.a.createElement(he.a,{items:a,actions:u,showOptionsInFoot:!0},(function(t){var i=t.BulkCheckbox,u=t.reset;return[o.a.createElement(fe,{key:"categories",categories:a,isLoading:n,canPaginate:r,onLoadMore:c,itemComponent:o.a.createElement(Oe,{BulkCheckbox:i})}),e.state.selectedIds&&o.a.createElement(se,{key:"delete-confirm-modal",onConfirm:b()(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e.state.selectedIds);case 2:u(),s(e.state.selectedIds);case 4:case"end":return t.stop()}}),t)}))),isMultiple:!0})]}))}}]),a}(o.a.Component);Z()(Ee,"propTypes",{categories:r.a.instanceOf(f.a.Iterable).isRequired,isLoading:r.a.bool,canPaginate:r.a.bool,onLoadMore:r.a.func,removeId:r.a.func.isRequired});var ye=Object(l.connect)(null,(function(e){return{deleteCategories:function(t){return b()(d.a.mark((function a(){return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e(Object(h.b)(t));case 2:case"end":return a.stop()}}),a)})))()},openDeleteModal:function(){return e(Object(te.open)(w.Pb,"multiple"))}}}))(Ee);function je(){var e=Object(M.b)({initialParams:new f.a.Map({sortBy:"alphabetical"})}),t=e.setParams,a=e.params,n=e.siteCategories,r=e.canPaginate,i=e.loadMore,s=e.loading,u=e.prependId,m=e.removeId,p=Object(l.useDispatch)(),g=Object(c.useCallback)((function(e){t({term:""!==e.get("term")?e.get("term"):void 0})}),[t]),_=Object(c.useCallback)((function(e){t({sortBy:e})}),[t]),C=Object(c.useCallback)(function(){var e=b()(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(Object(h.a)(t));case 2:a=e.sent,u(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return o.a.createElement(O.a,{name:"ManageSiteCategories",text:Object(I.a)("page_title.manage_site_categories")},o.a.createElement("div",{className:"Page"},o.a.createElement(L,null),o.a.createElement("div",{className:"u-marg-t--xsmall u-marg-b--large type--secondary"},o.a.createElement("p",null,Object(I.a)("manage_site.site_categories.instructions")),o.a.createElement("p",{className:"note u-marg-t--xsmall"},Object(I.a)("manage_site.site_categories.control_site_permissions"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"medium-6 large-4 column"},o.a.createElement("div",{className:"u-marg-b--medium"},o.a.createElement(E.a,{placeholder:Object(I.a)("manage_site_categories.search.placeholder"),initialValue:a.get("term"),onSubmit:g,ariaLabel:Object(I.a)("manage_site_categories.search.placeholder")}))),o.a.createElement("div",{className:"medium-6 large-8 column"},o.a.createElement("div",{className:"filter filter-sites"},o.a.createElement("div",{className:"u-floatRight u-marg-l--medium"},o.a.createElement(v.a,{modal:o.a.createElement(x,{onSubmit:C})},(function(e){return o.a.createElement(j.a,{onClick:e,appearance:"brand"},Object(I.a)("manage_site_categories.add_button.label"))}))),o.a.createElement("div",{className:"toolbar"},o.a.createElement(y.a,{selected:a.get("sortBy"),options:[{value:"alphabetical",label:Object(I.a)("sort_by.alphabetical")},{value:"latest",label:Object(I.a)("sort_by.latest")}],onChange:_}))))),o.a.createElement(ye,{categories:n,isLoading:s,canPaginate:r,onLoadMore:i,removeId:m})))}var _e=a(2936),Ce=a(14),Se=a(56);function we(e){var t=e.chatterGroup,a=e.optionsComponent;return o.a.createElement("tr",null,o.a.createElement("td",{className:"cell-details"},o.a.createElement("a",{className:"type--b2",href:t.get("url")},t.get("name"))),o.a.createElement("td",{className:"cell-member-count"},t.get("memberCount")||0),o.a.createElement("td",{className:"cell-access"},Object(I.a)("access.".concat(t.get("access")))),o.a.createElement("td",{className:"table-options"},a(t)))}we.propTypes={chatterGroup:Se.a.chatterGroup,optionsComponent:r.a.func.isRequired};var Pe=we;function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var Ne=function(e){H()(a,e);var t=ke(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"shouldComponentUpdate",value:function(e){return!f.a.is(this.props.chatterGroups,e.chatterGroups)||this.props.isLoading!==e.isLoading||this.props.canPaginate!==e.canPaginate||this.props.onLoadMore!==e.onLoadMore}},{key:"render",value:function(){var e=this.props,t=e.chatterGroups,a=e.isLoading,n=e.canPaginate,r=e.onLoadMore,c=e.optionsComponent;return 0===t.size?a?o.a.createElement(re.a,null):o.a.createElement(ne.a,null):o.a.createElement("div",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"cell-name"},Object(I.a)("listing.heading.name")),o.a.createElement("th",{className:"cell-member-count"},Object(I.a)("listing.heading.members")),o.a.createElement("th",{className:"cell-access"},Object(I.a)("listing.heading.access")),o.a.createElement("th",{className:"table-options"},Object(I.a)("listing.heading.options")))),o.a.createElement("tbody",null,t.map((function(e){return o.a.createElement(Pe,{key:e.get("chatterGroupId"),chatterGroup:e,optionsComponent:c})})).toArray())),o.a.createElement(ae.a,{canLoad:n,onLoad:r,isLoading:a}))}}]),a}(o.a.Component);Ne.propTypes={chatterGroups:r.a.instanceOf(f.a.List),isLoading:r.a.bool,canPaginate:r.a.bool,onLoadMore:r.a.func,optionsComponent:r.a.func.isRequired};var Ie=Ne,Re=a(301),Ae=a(3512);function xe(){var e=Object(Ae.a)(),t=e.setParams,a=e.params,n=e.chatterGroups,r=e.canPaginate,i=e.loadMore,s=e.loading,u=e.removeId,m=Object(l.useDispatch)(),d=Object(c.useCallback)((function(e){t({term:e.get("term")})}),[t]),p=Object(c.useCallback)((function(e){return m(Object(_e.a)(e)).then((function(t){t&&(u(e),m(Object(Ce.a)(null,"success",Object(I.a)("chatter_group.convert.success_flash"),!1,!0,t.result.editUrl)))}))}),[]);return o.a.createElement(O.a,{name:"ManageApplicationChatterGroups",text:Object(I.a)("page_title.manage_chatter_groups")},o.a.createElement("div",{className:"Page"},o.a.createElement(L,null),o.a.createElement("div",{className:"index-chattergroups"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"medium-6 large-4 column"},o.a.createElement("div",{className:"u-marg-b--xlarge"},o.a.createElement(E.a,{placeholder:Object(I.a)("chatter_group.search_placeholder"),initialValue:a.get("term"),onSubmit:d,ariaLabel:Object(I.a)("chatter_group.search_placeholder")})))),o.a.createElement(Ie,{chatterGroups:n,isLoading:s,canPaginate:r,onLoadMore:i,optionsComponent:function(e){return o.a.createElement(v.a,{modal:o.a.createElement(Re.a,{name:w.o,id:e.get("chatterGroupId"),onConfirm:function(){return p(e.get("chatterGroupId"))},title:Object(I.a)("chatter_group.convert.modal_title"),buttonText:Object(I.a)("button_label.convert")},o.a.createElement("p",null,Object(I.a)("chatter_group.convert.warning")),o.a.createElement("ol",null,o.a.createElement("li",null,Object(I.a)("chatter_group.convert.warning_consequence1")),o.a.createElement("li",null,Object(I.a)("chatter_group.convert.warning_consequence2"))))},(function(e){return o.a.createElement(j.a,{onClick:e,label:Object(I.a)("chatter_group.convert.label")})}))}}))))}var Me=a(16),De=a.n(Me),Te=a(82),Fe=a(2047),Le=a(1020),qe=a(2604),Be=a(129),Ue=a(51),Ve=a(17),ze=a(63),Ge=a(69),We=a.n(Ge),He=a(81),Qe=a(2765),Ye=a(568),Ke=a(383),Je=a(42),Xe=a(112),Ze=a(2026);function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var et=function(e){H()(a,e);var t=$e(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"render",value:function(){var e=this.props,t=e.access,a=e.managerCount,n=e.memberCount,r=e.followerCount,c=e.pageCount,l=e.albumCount,i=e.eventCount,s=e.createdAt,u=e.brandColor,m=e.hasPages,d=e.hasEvents,p=e.hasAlbums,b=e.hasContent,g=e.colSpan,f=o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,Object(I.a)("site.created_at.title"))," ",o.a.createElement(Ye.a,{createdAt:s})),h=b&&[{label:Object(I.a)("common.page_plural"),value:c,isEnabled:m},{label:Object(I.a)("common.event_plural"),value:i,isEnabled:d},{label:Object(I.a)("common.album_plural"),value:l,isEnabled:p}].filter((function(e){return e.isEnabled})),v=c+l+i,O=[{name:Object(I.a)("common.manager_plural"),value:Object(Je.c)(a)},{name:Object(I.a)("common.member_plural"),value:Object(Je.c)(n)}];return"public"===t&&O.push({name:Object(I.a)("common.followers"),value:Object(Je.c)(r)}),o.a.createElement(Xe.a,{alignment:"center",header:f,colSpan:g,hasResults:!0},o.a.createElement("div",{className:"AnalyticsTile-memberCounts"},o.a.createElement(Ke.a,{items:O})),b&&o.a.createElement(Ze.a,{totalCount:v,data:h,brandColor:u}))}}]),a}(o.a.PureComponent);Z()(et,"propTypes",{brandColor:r.a.string.isRequired,createdAt:r.a.string,access:r.a.string,managerCount:r.a.number,memberCount:r.a.number,followerCount:r.a.number,pageCount:r.a.number,albumCount:r.a.number,eventCount:r.a.number,hasPages:r.a.bool,hasEvents:r.a.bool,hasAlbums:r.a.bool,hasContent:r.a.bool,colSpan:r.a.number}),Z()(et,"defaultProps",{managerCount:0,memberCount:0,followerCount:0,pageCount:0,albumCount:0,eventCount:0,hasPages:!1,hasEvents:!1,hasAlbums:!1,hasContent:!1});var tt=a(2023),at=a(2030),nt=a(2024),rt=a(2029),ct=a(2027),ot=a(2937),lt=a(374),it=a(302),st=a(198),ut=a(1001),mt=a(40);function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var pt="Least viewed content",bt=function(e){H()(a,e);var t=dt(a);function a(){var e;B()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Z()(G()(e),"dataToView",(function(e){return{name:e.name,viewCount:Object(Je.c)(e.count),url:e.url,status:e.status}})),Z()(G()(e),"renderInner",(function(t){var a=t.result,n=t.setFrom,r=t.setTo,c=t.setRange,l=t.from,i=t.to,s=t.range,u=t.loading,m=e.props.colSpan,d=Object(mt.a)(s),p=a&&a.data.slice(0,5).map(e.dataToView),b=o.a.createElement(it.a,{from:l,to:i,onFromChange:n,onToChange:r,setRange:c,initialValue:d,additionalText:o.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(I.a)("site.analytics.tile_title.least_viewed")),onDropdownChange:function(e){return Object(mt.e)(pt,e)}});return o.a.createElement(Xe.a,{header:b,isLoading:u,hasResults:!!a,colSpan:m},a&&o.a.createElement(o.a.Fragment,null,a.hasLowActivityContent&&o.a.createElement("div",{className:"u-textCenter u-marg--xsmall"},o.a.createElement(ut.a,{type:"warning",title:Object(I.a)("analytics.sites_low_activity.heading")},o.a.createElement("p",null,Object(I.a)("analytics.sites_low_activity.body")))),o.a.createElement(lt.a,{data:p,firstColumnName:Object(I.a)("common.content"),lastColumnName:Object(I.a)("common.views")}),o.a.createElement("div",{className:"AnalyticsTile-footer"},o.a.createElement(st.a,{onClick:function(){return Object(mt.h)(pt)},url:a.csvUrl}))))})),e}return V()(a,[{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range;return o.a.createElement(ot.a,{siteId:t,range:a,orderBy:"bottom",metric:"views"},this.renderInner)}}]),a}(o.a.PureComponent);function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}Z()(bt,"propTypes",{siteId:r.a.string.isRequired});var ft="Most popular content",ht=function(e){H()(a,e);var t=gt(a);function a(){var e;B()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Z()(G()(e),"renderInner",(function(t){var a=t.result,n=t.setFrom,r=t.setTo,c=t.setRange,l=t.from,i=t.to,s=t.range,u=t.loading,m=e.props.colSpan,d=a&&a.data.slice(0,10),p=Object(mt.a)(s),b=o.a.createElement(it.a,{from:l,to:i,onFromChange:n,onToChange:r,setRange:c,initialValue:p,additionalText:o.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(I.a)("site.analytics.tile_title.most_viewed")),onDropdownChange:function(e){return Object(mt.e)(ft,e)}});return o.a.createElement(Xe.a,{header:b,isLoading:u,hasResults:!!a,colSpan:m},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(lt.a,{data:d}),o.a.createElement("div",{className:"AnalyticsTile-footer"},o.a.createElement(st.a,{onClick:function(){return Object(mt.h)(ft)},url:a.csvUrl}))))})),e}return V()(a,[{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range;return o.a.createElement(ot.a,{siteId:t,range:a,orderBy:"top",metric:"popularity"},this.renderInner)}}]),a}(o.a.PureComponent);Z()(ht,"propTypes",{siteId:r.a.string.isRequired});var vt=a(3514),Ot=a(408),Et=a(974),yt=a(176);function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var _t="Views tile",Ct=function(e){H()(a,e);var t=jt(a);function a(){var e;B()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Z()(G()(e),"generateSum",(function(e,t){return t.value+e})),Z()(G()(e),"handleTabClick",(function(t){return function(){return e.setTab(t.id)}})),Z()(G()(e),"renderInner",(function(t){var a=t.result,n=t.setFrom,r=t.setTo,c=t.setRange,l=t.from,i=t.to,s=t.range,u=t.loading,m=e.props,d=m.brandColor,p=m.colSpan,b=Object(mt.a)(s),g=o.a.createElement(o.a.Fragment,null,o.a.createElement(it.a,{options:[{value:"last_7_days",subtract:[7,"days"]},{value:"last_14_days",subtract:[14,"days"]},{value:"last_30_days",subtract:[30,"days"]},{value:"last_90_days",subtract:[90,"days"]},{value:"last_12_months",subtract:[12,"months"]},{value:"last_36_months",subtract:[36,"months"]},{value:"custom"}],from:l,to:i,onFromChange:n,onToChange:r,setRange:c,initialValue:b,additionalText:o.a.createElement("h2",{className:"type--500 type--b1 u-inline"},Object(I.a)("common.views")),onDropdownChange:function(e){return Object(mt.e)(_t,e)}})),f=a&&a[0]&&Object(Je.c)(a[0].data.viewsOverTime.reduce(e.generateSum,0)),h=a&&a[1]&&o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null," ",Object(Je.c)(a[1].data.viewsOverTime.reduce(e.generateSum,0))),o.a.createElement("span",null," ",Object(I.a)("site.analytics.views.dashboard_views")));return o.a.createElement(Xe.a,{header:g,isLoading:u,hasResults:!!a,colSpan:p},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Et.a,{value:f,label:Object(I.a)("analytics.total_content_views"),subheading:h}),o.a.createElement("div",{className:"AnalyticsTile-viewsChart"},o.a.createElement(Ot.a,{data:e.getChartData(a,d),showLegend:!0})),o.a.createElement("div",{className:"AnalyticsTile-viewsFooter"},o.a.createElement(st.a,{onClick:function(){return Object(mt.h)(_t)},url:a[2].csvUrl}),o.a.createElement(Ke.a,{size:"small",direction:"row-reverse",items:[{value:Object(I.a)("analytics.total_views")},{name:Object(I.a)("site.analytics.device.desktop"),value:"".concat(a[2].data.desktopPercentage,"%")},{name:Object(I.a)("site.analytics.device.mobile"),value:"".concat(a[2].data.mobilePercentage,"%")}]}))))})),e}return V()(a,[{key:"getChartData",value:function(e,t){return Object(yt.a)([{legend:Object(I.a)("site.analytics.tile_title.content_views"),data:e[0].data.viewsOverTime},{legend:Object(I.a)("site.analytics.views.dashboard_views"),data:e[1].data.viewsOverTime}],t,{colorProperty:"borderColor"})}},{key:"render",value:function(){var e=this.props,t=e.siteId,a=e.range;return o.a.createElement(vt.a,{siteId:t,range:a},this.renderInner)}}]),a}(o.a.PureComponent);Z()(Ct,"propTypes",{brandColor:r.a.string.isRequired});var St=a(352),wt=a(32);function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var kt=function(e){H()(a,e);var t=Pt(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"render",value:function(){var e=this.props,t=e.site,a=e.brandColor,n=e.isFeedEnabled,r=e.header,c=e.isAutoGovernanceEnabled,l=t.get("hasPages")||t.get("hasEvents")||t.get("hasAlbums"),i=Object(wt.j)(),s=Object(wt.j)(t.get("createdAt"));return o.a.createElement(O.a,De()({},St.k,{text:Object(I.a)("page_title.manage_site_analytics",{siteName:t.get("name")})}),o.a.createElement("div",{className:"Page Page--dashboard"},o.a.cloneElement(r,{isDashboard:!0})),o.a.createElement("div",{className:"u-textRight u-marg-b--medium"},o.a.createElement(Qe.a,{type:"site"})),o.a.createElement("div",{className:"Analytics"},t.get("createdAt")&&i.diff(s,"days",!0)<=1?o.a.createElement("div",{className:"AnalyticsTile"},o.a.createElement(ne.a,{hasNoBorder:!0},Object(I.a)("site.analytics.panel_no_data"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(et,{siteId:t.get("id"),access:t.get("access"),pageCount:t.getIn(["analytics","totalPageCount"]),eventCount:t.getIn(["analytics","totalEventCount"]),albumCount:t.getIn(["analytics","totalAlbumCount"]),managerCount:t.get("managerCount"),memberCount:t.get("memberCount"),followerCount:t.get("followerCount"),createdAt:t.get("createdAt"),brandColor:a,hasPages:t.get("hasPages"),hasEvents:t.get("hasEvents"),hasAlbums:t.get("hasAlbums"),hasContent:l,colSpan:2}),o.a.createElement(Ct,{hasDashboard:t.get("hasDashboard"),siteId:t.get("id"),brandColor:a,hasContent:l,colSpan:4,range:90}),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(bt,{siteId:t.get("id"),colSpan:2,range:90}),o.a.createElement(tt.a,{hasPages:t.get("hasPages"),hasEvents:t.get("hasEvents"),hasAlbums:t.get("hasAlbums"),siteId:t.get("id"),brandColor:a,colSpan:2,range:90}),o.a.createElement(nt.a,{siteId:t.get("id"),hasPages:t.get("hasPages"),hasEvents:t.get("hasEvents"),hasAlbums:t.get("hasAlbums"),hasBlogPosts:!1,colSpan:2,range:90})),o.a.createElement(at.a,{siteId:t.get("id"),colSpan:6,range:90}),c&&o.a.createElement(ct.a,{colSpan:6,columnCount:2,sliceCount:2,siteId:t.get("id"),range:90}),o.a.createElement(rt.a,{siteId:t.get("id"),brandColor:a,hasContent:l,colSpan:l?4:6,isFeedEnabled:n,range:90}),l&&o.a.createElement(ht,{siteId:t.get("id"),colSpan:2,range:90}))))}}]),a}(He.b);Z()(kt,"propTypes",{site:We.a.map.isRequired,isFeedEnabled:r.a.bool.isRequired});var Nt=Object(l.connect)((function(e){return{brandColor:Object(Ve.v)(e,"brandingPrimaryColor"),isFeedEnabled:Object(Ve.L)(e),isAutoGovernanceEnabled:Object(Ve.E)(e)}}))(kt),It=a(3041),Rt=a(2598);function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var xt=function(e){H()(a,e);var t=At(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"render",value:function(){var e=this.props,t=e.site,a=e.header,n=e.location,r=e.location.query,c=(r=void 0===r?{}:r).status,l=Object(I.a)("page_title.manage_site_content",{siteName:t.get("name")});return o.a.createElement("div",{className:"Page"},a,o.a.createElement(O.a,{name:"ManageSitesContent",text:l},o.a.createElement(It.a,{siteId:t.get("siteId"),initialStatus:c,location:n})))}}]),a}(o.a.PureComponent);Z()(xt,"propTypes",{site:We.a.record.isRequired,header:r.a.node.isRequired});var Mt=Object(Rt.a)(xt),Dt=a(3515);function Tt(e){var t=e.onSubmit,a=e.site,n=e.header;return o.a.createElement(O.a,{name:"SiteEdit",text:Object(I.a)("page_title.manage_site_details",{siteName:a.get("name")})},o.a.createElement("div",{className:"Page"},n,o.a.createElement(Dt.a,{initialValues:a,onSubmit:t})))}Tt.propTypes={site:r.a.instanceOf(f.a.Map).isRequired,onSubmit:r.a.func.isRequired};var Ft=Object(l.connect)(null,(function(e,t){return{onSubmit:function(a){return e(Object(Te.edit)(t.site.get("siteId"),a.toJS()))}}}))(Tt),Lt=a(24),qt=a.n(Lt),Bt=a(208),Ut=a(53),Vt=a(2674),zt=a(2640),Gt=a(2641),Wt=a(2716),Ht=a(3517),Qt=a(2575),Yt=a(209),Kt=a(857);function Jt(e){var t=e.name,a=e.type,n=e.siteId;return o.a.createElement(Vt.a,{name:t,type:a,disconnectHandler:Object(c.useCallback)((function(){Object(Kt.b)(t,"",n)}))},(function(e){return o.a.createElement("button",{type:"button",className:"Button",onClick:e},o.a.createElement("span",{className:"Button-text"},Object(I.a)("button_label.disconnect_account")))}))}function Xt(e){var t=e.site,a=e.header,n=Object(Yt.h)("imgPath"),r=Object(Yt.b)("slack"),i=Object(Yt.b)("teams"),s=Object(c.useState)(!1),m=qt()(s,2),d=m[0],p=m[1],b=Object(c.useState)(!1),g=qt()(b,2),f=g[0],h=g[1],v=Object(l.useSelector)(u.hasConnectedSlackAccount),O=r&&!v,E=v&&!d;return o.a.createElement("div",{className:"Page"},a,o.a.createElement(Ht.a,{siteId:t.get("id")},(function(e){var a=e.slack,c=e.teams;return o.a.createElement(Qt.a,{heading:Object(I.a)("my_settings.apps.heading"),intro:O&&o.a.createElement(ut.a,{hasContentStyles:!0,type:"positive"},o.a.createElement("p",null,Object(I.a)("manage_site.apps.slack.connect_prompt")," "," ",o.a.createElement(Ut.a,{to:"/my-settings/external-apps"},Object(I.a)("button_label.connect_account"))))},o.a.createElement(Gt.a,null,r&&o.a.createElement(zt.a,{name:"slack",title:"".concat(Object(I.a)("app.slack"),"  ").concat(Object(I.a)("manage_site.apps.slack.note")),type:"slack",isConnected:d||a.isConnected,connectedAs:a.isConnected&&a.connectedAs,showConnect:!1,showDisconnect:a.isConnected,img:"".concat(n,"slack.png"),onEnable:E&&!a.isConnected&&function(){return p(!0)},form:(d||a.isConnected)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"u-marg-t--medium u-marg-b--medium"},o.a.createElement(Bt.a,{component:C.a,name:"slackSendFeed",label:"".concat(Object(I.a)("manage_sites.external_apps.slack_feed_activity_sync"),":"),isStacked:!0,isLight:!0,isNormalLabelText:!0,validate:R.E,options:[{value:"only-posts",label:Object(I.a)("manage_sites.external_apps.send_posts")},{value:"posts-and-replies",label:Object(I.a)("manage_sites.external_apps.send_posts_and_replies")}]})),o.a.createElement("div",{className:"u-marg-t--medium u-marg-b--medium"},o.a.createElement(Wt.a,{label:Object(I.a)("field.slack_channel.label"),isSlackConnected:!O})),o.a.createElement("p",{className:"type--secondary"},Object(I.a)("manage_sites.external_apps.slack_channel_help"))),disconnectComponent:o.a.createElement(Jt,{name:"slack",type:"slack",siteId:t.get("id")})}),i&&o.a.createElement(zt.a,{name:"teams",title:Object(I.a)("app.teams"),type:"teams",isConnected:f||c.isConnected,connectedAs:c.isConnected&&c.connectedAs,showConnect:!1,showDisconnect:c.isConnected,img:"".concat(n,"teams.png"),onEnable:!c.isConnected&&!f&&function(){return h(!0)},form:(f||c.isConnected)&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"u-marg-t--medium u-marg-b--medium"},o.a.createElement(Bt.a,{component:C.a,name:"teamsSendFeed",label:"".concat(Object(I.a)("manage_sites.external_apps.teams_feed_activity_sync"),":"),isStacked:!0,isLight:!0,isNormalLabelText:!0,validate:R.E,options:[{value:"only-posts",label:Object(I.a)("manage_sites.external_apps.send_posts")},{value:"posts-and-replies",label:Object(I.a)("manage_sites.external_apps.send_posts_and_replies")}]})),o.a.createElement("div",{className:"u-marg-t--medium u-marg-b--medium"},o.a.createElement(Bt.a,{component:S.a,name:"teamsWebhookUrl",label:Object(I.a)("manage_sites.external_apps.webhook_url"),validate:R.E,isRequired:!0}))),disconnectComponent:o.a.createElement(Jt,{name:"teams",type:"teams",siteId:t.get("id")})})))})))}Xt.propTypes={site:We.a.map.isRequired,header:r.a.node.isRequired};var Zt=Xt,$t=a(15),ea=a.n($t),ta=a(138),aa=a(185),na=a.n(aa),ra=a(254),ca=a(89);function oa(e){var t=e.site,a=e.isDashboard,n=e.isPageVisitAllowed,r=Object(Yt.b)("slack"),c=Object(Yt.b)("teams"),l=r||c,i=Object(Yt.a)("externalAnalytics"),s="/manage/sites/".concat(t.siteId),u=ea()({"Page-header":!0,"Page-header--noBorder":a}),m=Object(ca.q)(t.siteId);return o.a.createElement("header",{className:u},o.a.createElement("div",{className:"Page-header-inner"},o.a.createElement("div",{className:"".concat(na.a.breadcrumb," u-floatLeft")},o.a.createElement("div",{className:na.a.imageContainer},o.a.createElement(ra.a,{to:m,img:t.img,imageFile:t.imgFile})),o.a.createElement("div",null,o.a.createElement("h1",{className:"".concat(na.a.title," type--h4")},o.a.createElement(Ut.a,{to:m},o.a.createElement(ta.a,{name:t.name,access:t.access}))),o.a.createElement(Ut.a,{className:"type--b4 u-displayBlock",to:Object(ca.p)(t.category.id)},t.category.name))),o.a.createElement("div",{className:"u-floatLeft u-marg-l--medium"},o.a.createElement(j.a,{label:Object(I.a)("manage_site.view_site"),linkTo:m,size:"small"}))),o.a.createElement("div",{className:"Page-tabsContainer"},n?o.a.createElement(T.a,{hasNoBorder:!0,isPadded:!1},t.hasAnyContentEnabled&&o.a.createElement(D.a,{to:"".concat(s,"/content"),label:Object(I.a)("common.content")}),t.hasPages&&o.a.createElement(D.a,{to:"".concat(s,"/page-categories"),label:Object(I.a)("common.page_category_plural")}),i&&o.a.createElement(D.a,{to:"".concat(s,"/analytics?utm_medium=internal&utm_source=manage_site_analytics_tab"),label:Object(I.a)("analytic_plural")})):o.a.createElement(T.a,{hasNoBorder:!0,isPadded:!1},o.a.createElement(D.a,{to:s,exact:!0,label:Object(I.a)("manage_site.tab.details")}),o.a.createElement(D.a,{to:"".concat(s,"/people"),label:Object(I.a)("manage_site.tab.people")}),t.hasAnyContentEnabled&&o.a.createElement(D.a,{to:"".concat(s,"/content"),label:Object(I.a)("common.content")}),t.hasPages&&o.a.createElement(D.a,{to:"".concat(s,"/page-categories"),label:Object(I.a)("common.page_category_plural")}),o.a.createElement(D.a,{to:"".concat(s,"/subscriptions"),label:Object(I.a)("common.subscription_plural")}),i&&o.a.createElement(D.a,{to:"".concat(s,"/analytics?utm_medium=internal&utm_source=manage_site_analytics_tab"),label:Object(I.a)("analytic_plural")}),l&&o.a.createElement(D.a,{to:"".concat(s,"/external-apps"),label:Object(I.a)("manage_site.tab.external_apps")}))))}oa.propTypes={site:r.a.instanceOf(Ue.a).isRequired,isDashboard:r.a.bool},oa.defaultProps={};var la=oa,ia=a(2589),sa=a(849),ua=a(655),ma=a(2627),da=a(3518),pa=a(226);function ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ba(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fa(e){var t=e.id,a=e.name,n=e.close,r=e.onSubmit,l=Object(c.useCallback)(function(){var e=b()(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(ga({id:t},a));case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,r,n]);return o.a.createElement(Bt.b,{onSubmit:l,initialValues:{name:a}},(function(e){var a=e.submitting,r=e.invalid,c=e.handleSubmit;return o.a.createElement("form",{onSubmit:c},o.a.createElement("div",{className:"Modal-content"},o.a.createElement(Bt.a,{component:S.a,label:Object(I.a)("common.category_name"),name:"name",validate:R.E})),o.a.createElement("div",{className:"Strip Strip--modal"},o.a.createElement("button",{type:"button",className:"Strip-cancel",onClick:n},Object(I.a)("button_label.cancel")),o.a.createElement(j.a,{type:"submit",label:t?Object(I.a)("button_label.update"):Object(I.a)("button_label.add"),appearance:"brand",disabled:a||r})))}))}fa.propTypes={};var ha=Object(P.a)((function(e){return{title:e.isEdit?Object(I.a)("modal.page_category.edit"):Object(I.a)("modal.page_category.add"),classes:["Modal--small"]}}))(fa);function va(e){var t=e.onDelete;return o.a.createElement(Re.a,{title:Object(I.a)("modal.alert.delete_page_category.title"),buttonText:Object(I.a)("common.delete"),onConfirm:t},o.a.createElement("p",null,Object(I.a)("modal.alert.delete_page_category.text")),o.a.createElement("strong",{className:"type--500"},Object(I.a)("common.cannot_be_undone")))}va.propTypes={onDelete:r.a.func};var Oa=va,Ea=a(381),ya=a(972);function ja(e){var t=e.id,a=e.name,n=e.canEdit,r=e.canDelete,c=e.onEdit,l=e.onDelete,i=Object(pa.c)(o.a.createElement(Oa,{onDelete:l})).open,s=Object(pa.c)(o.a.createElement(ha,{name:a,id:t,onSubmit:c})).open;return n||r?o.a.createElement(ce.a,null,n&&o.a.createElement(oe.a,{label:Object(I.a)("common.edit"),onSelect:s}),r&&o.a.createElement(oe.a,{label:Object(I.a)("common.delete"),onSelect:i})):null}ja.propTypes={canEdit:r.a.bool.isRequired,canDelete:r.a.bool.isRequired,onEdit:r.a.func.isRequired,onDelete:r.a.func.isRequired};var _a=ja;function Ca(e){var t=e.siteId,a=e.pageCategories,n=e.onEdit,r=e.onDelete,c=e.BulkCheckbox,l=e.loading,i=e.loaded,s=e.canPaginate,u=e.loadMore;return 0===a.size&&l?o.a.createElement(re.a,null):0!==a.size||i?o.a.createElement(o.a.Fragment,null,o.a.createElement(ya.a,{data:a,vAlignment:"middle",hasNoLastBorder:!0},o.a.createElement(Ea.a,{label:Object(I.a)("table.heading.category"),width:"50%"},(function(e){var a=e.id,n=e.name;return o.a.createElement(Ut.a,{to:"/manage/sites/".concat(t,"/content&type=page&category=").concat(a)},n)})),o.a.createElement(Ea.a,{name:"pageCount",label:Object(I.a)("table.heading.pages"),textAlign:"right",width:"100px"}),o.a.createElement(Ea.a,{name:"createdAt",formatAs:"date",label:Object(I.a)("table.heading.created"),textAlign:"right",width:"100px"}),o.a.createElement(Ea.a,{label:Object(I.a)("table.heading.options"),textAlign:"right",width:"80px"},(function(e){var t=e.id,a=e.name,l=e.canEdit,i=e.canDelete;return o.a.createElement(o.a.Fragment,null,o.a.createElement(_a,{id:t,name:a,canEdit:l,canDelete:i,onEdit:n,onDelete:function(){return r([t])}}),o.a.createElement("span",{className:"u-pad-l--small"},o.a.createElement(c,{id:t,isDisabled:!i})))}))),o.a.createElement(ae.a,{canLoad:s,onLoad:u,isLoading:l})):o.a.createElement(ne.a,{hasBorder:!1})}Ca.propTypes={siteId:r.a.node.isRequired},Ca.defaultProps={};var Sa=Ca;function wa(e){var t=e.siteId,a=e.pageCategories,n=e.loading,r=e.loaded,l=e.canPaginate,i=e.loadMore,s=e.handleEdit,u=e.handleDelete,m=Object(pa.c)(o.a.createElement(Oa,null)).openWithProps,d=Object(c.useCallback)((function(e){return m({onDelete:function(){return u(e)}})}),[m,u]),p=new f.a.List([new f.a.Map({label:Object(I.a)("common.delete"),isVisible:!0,onSelect:d})]);return o.a.createElement(he.a,{items:a,actions:p},(function(e){var c=e.BulkCheckbox;return o.a.createElement(Sa,{siteId:t,pageCategories:a,loading:n,loaded:r,canPaginate:l,loadMore:i,BulkCheckbox:c,onEdit:s,onDelete:u})}))}wa.propTypes={pageCategories:r.a.instanceOf(f.a.Iterable).isRequired,loading:r.a.bool,canPaginate:r.a.bool,loadMore:r.a.func};var Pa=wa,ka=a(3519),Na=[{value:"createdNewest",label:Object(I.a)("sort_by.createdNewest")},{value:"createdOldest",label:Object(I.a)("sort_by.createdOldest")}];function Ia(e){var t=e.siteId,a=Object(da.a)(t,{initialParams:new f.a.Map({sortBy:"createdNewest",siteId:t})}),n=a.loading,r=a.loaded,c=a.loadMore,l=a.canPaginate,i=a.pageCategories,s=a.removeId,u=a.prependId,m=a.setParams,d=a.params,p=Object(ka.a)(t,s,u),b=p.handleEdit,g=p.handleDelete,h=Object(pa.c)(o.a.createElement(ha,{onSubmit:b})).open;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"u-marg-b--xlarge"},o.a.createElement(ia.a,{termField:o.a.createElement(sa.a,{isCompact:!0,component:ma.a,name:"term",placeholder:Object(I.a)("field.category_search.placeholder"),onSearch:function(e){return m({term:e})},ariaLabel:Object(I.a)("field.category_search.placeholder")}),sortField:o.a.createElement(sa.a,{isCompact:!0,hasNoInternalLabel:!0,component:ua.a,value:d.get("sortBy"),name:"sortBy",options:Na,onChange:function(e){return m({sortBy:e})}}),addButton:o.a.createElement(j.a,{onClick:h,appearance:"brand"},Object(I.a)("category.add"))})),o.a.createElement(Pa,{siteId:t,pageCategories:i,loadMore:c,loading:n,loaded:r,canPaginate:l,handleEdit:b,handleDelete:g}))}Ia.propTypes={siteId:r.a.node.isRequired},Ia.defaultProps={};var Ra=Ia;function Aa(e){var t=e.site,a=t.siteId,n=t.name,r=e.header,c=Object(I.a)("page_title.manage_site_page_categories",{siteName:n});return o.a.createElement("div",{className:"Page"},r,o.a.createElement(O.a,{name:"ManageSitesContentPageCategories",text:c}),o.a.createElement(Ra,{siteId:a}))}Aa.propTypes={header:r.a.node.isRequired},Aa.defaultProps={};var xa=Aa,Ma=a(2725),Da=a(2806),Ta=a(562),Fa=a(2605),La=(a(654),a(2642)),qa=a(2755),Ba=function(e){var t=e.site,a=e.term,n=e.listing,r=e.match.params.type,i=t.access,s=t.siteId,u="/manage/sites/".concat(s,"/people"),m="unlisted"===i,d=Object(l.useDispatch)();Object(c.useEffect)((function(){d(Object(Ta.b)(s,a))}),[s,d,a]);var p=Object(l.useSelector)((function(e){return Object(La.b)(e,s)})),b=p.get("loading"),g=p.get("loaded"),f=p.get("result");if(b||!g)return o.a.createElement(re.a,null);var h=function(e){return e>2e3?"2000+":e},v=f.get("memberCount"),O=f.get("followerCount"),E=h(f.get("requestCount")),y=h(v+O),j=v+O+E===0;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"u-marg-b--medium"},o.a.createElement(T.a,{isPadded:!1},o.a.createElement(D.a,{to:"".concat(u,"/people-search"),label:o.a.createElement(o.a.Fragment,null,Object(I.a)("manage_site.tab.search_result_label")," ",o.a.createElement("span",{className:"type--secondary"},"(",y,")"))}),!m&&!j&&o.a.createElement(D.a,{to:"".concat(u,"/requests-search"),label:o.a.createElement(o.a.Fragment,null,Object(I.a)("manage_site.tab.membership_requests_label")," ",o.a.createElement("span",{className:"type--secondary"},"(",E,")"))}))),o.a.createElement(qa.a,De()({key:r,type:r,site:t,term:a,hasNoResult:j,listing:n},e)))};Ba.propTypes={site:r.a.instanceOf(Ue.a).isRequired,term:r.a.string,params:r.a.shape({}),hideContactBar:r.a.bool,showFollow:r.a.bool,showSiteRelationLabel:r.a.bool,showOptionsMenu:r.a.bool,showMembershipRequestsTab:r.a.bool,pageName:r.a.string},Ba.defaultProps={hideContactBar:!0,showFollow:!1,showSiteRelationLabel:!0,showOptionsMenu:!0,showMembershipRequestsTab:!0,pageName:Fa.b.MANAGE_SITES_PEOPLE};var Ua=Ba,Va=function(e){return e.term?o.a.createElement(Ua,e):o.a.createElement(Da.a,e)};Va.propTypes={term:r.a.string,baseUrl:r.a.string};var za=Va,Ga=a(2613),Wa=a(2694),Ha=a(90),Qa=function(e){var t=e.site,a=e.match.params.type,n="/manage/sites/".concat(t.siteId,"/people"),r=Object(c.useState)(""),l=qt()(r,2),s=l[0],u=l[1],m=Object(Wa.a)(t.siteId,a,s,Fa.b.MANAGE_SITES_PEOPLE),d=Object(pa.c)(o.a.createElement(Ma.a,{site:t,prependId:m.prependId,term:s})).open;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ia.a,{termField:o.a.createElement(Ga.a,{initialValue:"",hasNoInternalLabel:!0,component:ma.a,name:"term",placeholder:Object(I.a)("common.search_placeholder"),onSearch:function(e){u(e),e?Object(Ha.e)({pathname:"".concat(n,"/people-search")}):Object(Ha.e)({pathname:"".concat(n,"/managers")})},ariaLabel:Object(I.a)("common.search_placeholder")}),addButton:o.a.createElement(j.a,{size:"large",onClick:d,appearance:"brand"},Object(I.a)("common.add_person"))}),o.a.createElement(i.c,{exact:!0,path:"".concat(n,"/:type?"),render:function(e){return o.a.createElement(za,De()({},e,{site:t,term:s,baseUrl:n,listing:m}))}}))};Qa.propTypes={site:r.a.instanceOf(Ue.a).isRequired};var Ya=Object(i.k)(Qa),Ka=a(664);Ya.propTypes={site:r.a.instanceOf(Ue.a).isRequired,header:r.a.node};var Ja=function(e){var t=e.site,a=e.header,n=Object(I.a)("page_title.manage_people",{siteName:t.name}),r=Object(Ka.c)().addRecentSite;return Object(c.useEffect)((function(){return function(){r(t)}}),[t,r]),o.a.createElement("div",{className:"Page"},a,o.a.createElement(O.a,{name:"ManageSitesMembers",text:n}),o.a.createElement(Ya,{site:t}))},Xa=a(1011),Za=a(3044),$a=a(204),en=a(120);function tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var an=function(e){H()(a,e);var t=tn(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"componentDidMount",value:function(){this.load()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.load(e)}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.loaded,a=e.loading,n=e.segmentId,r=e.loadSegment;!n||t||a||r(n)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.loaded,n=e.segment,r=e.site,c=e.header;return o.a.createElement("div",{className:"Page"},c,t||!a?o.a.createElement(re.a,null):o.a.createElement(O.a,{name:"ManageSiteSubscriptions",text:Object(I.a)("page_title.manage_site_subscriptions",{siteName:r.get("name")})},o.a.createElement(Za.a,{segment:n,site:r})))}}]),a}(o.a.PureComponent);an.propTypes={site:We.a.map.isRequired,segmentId:r.a.string.isRequired,loading:r.a.bool,loaded:r.a.bool,segment:r.a.instanceOf($a.a)},an.defaultProps={loading:!1,loaded:!1};var nn=Object(l.connect)((function(e){var t=Object(en.b)(e),a=t?Object(en.d)(e,t)||new f.a.Map:null;return{segmentId:t,loading:!!a&&a.get("loading"),loaded:!a||a.get("loaded"),segment:a?a.get("result"):null}}),{loadSegment:Xa.b})(an);function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var cn=function(e){H()(a,e);var t=rn(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.isLoaded||this.props.isLoading||this.props.load()}},{key:"render",value:function(){var e=this.props,t=e.site,a=e.isLoading,n=e.match,r=e.location,c=e.canManageSite,l=e.isSiteAnalyticsEnabled,u=e.isExternalAppsEnabled;if(a)return o.a.createElement(Be.a,null);if(!t||t.isEmpty())return o.a.createElement(Le.a,null);var m=t.get("isContentManager"),d=!c&&m&&["content","page-categories","analytics"].includes(r.pathname.split("/").pop());if(!c&&!d)return o.a.createElement(Fe.a,null);var p=o.a.createElement(la,{site:t,isPageVisitAllowed:d}),b=t.get("hasPages")||t.get("hasEvents")||t.get("hasAlbums"),g=function(e){return function(a){return o.a.createElement(e,De()({},a,{header:p,site:t}))}};return o.a.createElement(s.a,null,o.a.createElement(i.c,{exact:!0,path:n.path,render:g(Ft)}),o.a.createElement(i.b,{exact:!0,path:"".concat(n.path,"/people"),to:"".concat(n.path,"/people/managers")}),o.a.createElement(i.c,{exact:!0,path:"".concat(n.path,"/people/:type?"),render:g(Ja)}),b&&o.a.createElement(i.c,{exact:!0,path:"".concat(n.path,"/content"),render:g(Mt)}),t.get("hasPages")&&o.a.createElement(i.c,{exact:!0,path:"".concat(n.path,"/page-categories"),render:g(xa)}),o.a.createElement(i.c,{exact:!0,path:"".concat(n.path,"/subscriptions"),render:g(nn)}),l&&o.a.createElement(i.c,{exact:!0,path:"".concat(n.path,"/analytics"),render:g(Nt)}),u&&o.a.createElement(qe.a,{exact:!0,path:"".concat(n.path,"/external-apps"),render:g(Zt),name:"ManageSitesExternalApps",title:Object(I.a)("page_title.manage_site_external_apps",{siteName:t.get("name")})}))}}]),a}(o.a.Component);Z()(cn,"propTypes",{isLoading:r.a.bool,isLoaded:r.a.bool,isSiteAnalyticsEnabled:r.a.bool,site:r.a.instanceOf(Ue.a)});var on=Object(l.connect)((function(e,t){var a=Object(ze.n)(e,t.match.params.siteId)||new f.a.Map,n=a.get("result")||void 0;return{isLoading:a.get("loading",!1),isLoaded:!0===a.get("loaded")&&!0===a.get("isFullModel"),site:n,canManageSite:n&&Object(ze.c)(e,n),isSiteAnalyticsEnabled:Object(Ve.C)(e,"externalAnalytics"),isExternalAppsEnabled:Object(Ve.Q)(e,"slack")||Object(Ve.Q)(e,"teams")}}),(function(e,t){return{load:function(){return e(Object(Te.load)(t.match.params.siteId,null,{includeAnalytics:!0}))}}}))(cn),ln=a(3521),sn=a(65),un=a.n(sn),mn=a(3522);function dn(e){return(un.a.parse(e.location.search.substr(1))||{}).nextLinkTo||null}function pn(e){var t=e.canCreateSite,a=e.onSubmit;return t?o.a.createElement(O.a,{name:"SiteAdd",text:Object(I.a)("page_title.add_site")},o.a.createElement("div",{className:"Page"},o.a.createElement("header",{className:"Page-header"},o.a.createElement("div",{className:"Page-header-inner"},o.a.createElement("h1",{className:"Page-heading type--h4"},Object(I.a)("page_title.add_site")))),o.a.createElement(mn.a,{onSubmit:a,nextLinkTo:dn(e)}))):o.a.createElement(Fe.a,null)}pn.propTypes={onSubmit:r.a.func.isRequired};var bn=Object(l.connect)((function(e){return{canCreateSite:Object(u.canCurrentUserCreateSite)(e)}}),(function(e){return{onSubmit:function(t){return e(Object(Te.create)(t.toJS())).then((function(e){var t=e.result,a=t.siteId,n=t.landingPage,r="/site/".concat(a,"/").concat(n);Object(Ha.e)({pathname:r,search:"?showNewSiteModal=true"})}))}}}))(pn),gn=a(450),fn=a(411),hn=a(225),vn=a(266);var On=Object(P.a)((function(e){return{name:w.Y,id:e.siteId,title:Object(I.a)("modal.duplicate_site.title"),classes:["Modal--small"],ignoreFocusTrap:!0}}))((function(e){var t=e.siteId,a=e.onSubmit,n=e.category,r=e.isRestrictedCategory,c=e.close;return o.a.createElement(Bt.b,{onSubmit:function(e){var n=e.shouldCopyDashboard,r=e.shouldCopyPageCategories;Object(vn.b)("Duplicate Site",{copyTilesEnabled:n,copyPageCategoriesEnabled:r,siteId:t}),a(n,r),c()},initialValues:{shouldCopyDashboard:!0,shouldCopyPageCategories:!0}},(function(e){var t=e.invalid,a=e.submitting,l=e.handleSubmit;return o.a.createElement("form",{onSubmit:l},o.a.createElement("div",{className:"Modal-content"},o.a.createElement("div",{className:"u-marg-b--mediumlarge"},o.a.createElement("p",{className:"type--b2 u-lineHeight--1p3 type--borderDark u-marg-b--small"},Object(I.a)("modal.duplicate_site.setup_info")),o.a.createElement("p",{className:"type--b2 u-lineHeight--1p3 type--borderDark"},Object(I.a)("modal.duplicate_site.content_copy_info"))),o.a.createElement("div",{className:"u-marg-b--medium-sketchSize"},o.a.createElement(Bt.a,{component:hn.a,name:"shouldCopyDashboard",label:Object(I.a)("modal.duplicate_site.copy_dashboard.label"),note:Object(I.a)("modal.duplicate_site.copy_dashboard.note")})),o.a.createElement(Bt.a,{component:hn.a,name:"shouldCopyPageCategories",label:Object(I.a)("modal.duplicate_site.copy_page_categories.label")}),r&&o.a.createElement("p",{className:"type--b4 u-lineHeight--1p3 type--secondary u-marg-t--mediumlarge"},Object(I.a)("modal.duplicate_site.restricted_category.info",{category:null==n?void 0:n.get("name")}))),o.a.createElement("div",{className:"Strip Strip--modal"},o.a.createElement(j.a,{label:Object(I.a)("modal.duplicate_site.button_label"),type:"submit",disabled:t||a,appearance:"brand",size:"large"}),o.a.createElement("button",{type:"button",className:"Strip-cancel",onClick:c},Object(I.a)("button_label.cancel"))))}))})),En=a(422),yn=a(1136);function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var _n=function(e){H()(a,e);var t=jn(a);function a(e){var n;return B()(this,a),(n=t.call(this,e)).onSubmit=n.onSubmit.bind(G()(n)),n}return V()(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.load()}},{key:"onSubmit",value:function(e){var t=e.get("category").set("categoryName",e.getIn(["category","name"]));return Promise.resolve(this.props.onSubmit(t.toObject())).then(this.props.close)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.options,n=e.valid,r=e.submitting,c=e.handleSubmit,l=e.close,i=e.isAppManager;return o.a.createElement("form",{onSubmit:c(this.onSubmit)},o.a.createElement("div",{className:"Modal-content"},t?o.a.createElement(re.a,{hasBorder:!0}):o.a.createElement(_.Field,{component:En.a,name:"category",id:"category",label:Object(I.a)("common.category"),placeholder:i?Object(I.a)("modal.site_category.field_placeholder"):Object(I.a)("common.select_placeholder"),options:a,canCreate:i,makeNewModel:function(e){return{id:null,name:e}},validate:[R.E],isValueModel:!0,hasClearButton:!0})),o.a.createElement("div",{className:"Strip Strip--modal"},o.a.createElement(j.a,{type:"submit",disabled:!n||r||t,label:Object(I.a)("button_label.save"),appearance:"brand"}),o.a.createElement("button",{type:"button",className:"Strip-cancel",onClick:l},Object(I.a)("button_label.cancel"))))}}]),a}(o.a.Component);Z()(_n,"propTypes",{siteId:r.a.string.isRequired,category:r.a.instanceOf(k.a),onSubmit:r.a.func.isRequired,isLoading:r.a.bool,options:r.a.arrayOf(r.a.shape({value:r.a.string.isRequired,label:r.a.string}))});var Cn=Object(P.a)((function(e){return{name:w.Xb,id:e.siteId,title:Object(I.a)("modal.site_category.title"),classes:["Modal--small"]}}))(Object(l.connect)((function(e,t){var a=Object(yn.b)(e),n=Object(yn.a)(e);return t.category&&(n.get(t.category.get("id"))||(n=n.set(t.category.get("id"),t.category))),{isAppManager:Object(u.isCurrentUserAppManager)(e),isLoading:Object(yn.e)(e),accessibleCategories:n,categories:a,options:a.map((function(e){return{value:e.get("categoryId"),label:e.get("name")}})).toArray()}}),(function(e){return{load:function(){return e(Object(h.d)({size:1e4}))}}}))(Object(_.reduxForm)({form:"SITE_SET_CATEGORY",validate:function(e,t){var a=e.getIn(["category","id"]),n=Object(R.g)(e,{required:["category"]});return n.category||!t.categories.has(a)||t.accessibleCategories.has(a)||(n.category=Object(I.a)("site.add.add_to_category_error")),n}})(_n)));function Sn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(a),!0).forEach((function(t){Z()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pn(e){var t=Object(Ka.c)().removeRecentSite,a={deactivateSite:Object(c.useCallback)((function(){Object(vn.b)("Deactivate Site",{siteId:e.site.get("siteId")}),e.deactivate().then((function(){t(e.site)}))}),[e,t])},n=function(e){var t=e.site,a=e.isAppManager,n=e.isUnlistedAdmin,r=e.isSegmentsEnabled,c=e.canCreateSite,l=e.makePrivate,i=e.makePublic,s=e.activate,u=e.deactivateSite,m=e.revert,d=e.openModal,p=e.setCategory,b=e.duplicate;if(!t.get("isActive"))return t.get("canActivateDeactivate")?[o.a.createElement(oe.a,{key:"activate",label:Object(I.a)("site.activate.label"),onSelect:s})]:null;var g=[],f=[o.a.createElement(oe.a,{key:"view",label:Object(I.a)("site.view.label"),href:t.get("url")})];return t.get("canEdit")&&(f.push(o.a.createElement(oe.a,{key:"edit",label:Object(I.a)("site.edit.label"),href:t.get("editUrl")})),g.push(o.a.createElement(Cn,{key:"category",siteId:t.get("siteId"),category:t.get("category"),onSubmit:p})),f.push(o.a.createElement(oe.a,{key:"category",label:Object(I.a)("site.update_category.label"),onSelect:d(w.Xb)}))),c&&(g.push(o.a.createElement(On,{key:"duplicate",siteId:t.get("siteId"),category:t.get("category"),isRestrictedCategory:t.get("isRestrictedCategory"),onSubmit:b})),f.push(o.a.createElement(oe.a,{key:"duplicate",label:Object(I.a)("site.duplicate_site.label"),onSelect:d(w.Y)}))),(t.get("isManager")||a||n)&&("public"!==t.get("access")&&f.push(o.a.createElement(oe.a,{key:"make-public",label:Object(I.a)("site.make_public.label"),onSelect:i})),"private"!==t.get("access")&&f.push(o.a.createElement(oe.a,{key:"make-private",label:Object(I.a)("site.make_private.label"),onSelect:l}))),t.get("canActivateDeactivate")&&(g.push(o.a.createElement(Re.a,{name:w.Sb,id:t.get("siteId"),key:"deactivate",onConfirm:u,title:Object(I.a)("site.deactivate.title"),buttonText:Object(I.a)("button_label.deactivate")},o.a.createElement("p",null,Object(I.a)("site.deactivate.warning.title")),o.a.createElement("ul",null,o.a.createElement("li",null,Object(I.a)("site.deactivate.warning.line1")),o.a.createElement("li",null,Object(I.a)("site.deactivate.warning.line2")),o.a.createElement("li",null,Object(I.a)("site.deactivate.warning.line3"))),r&&o.a.createElement("p",null,Object(I.a)("site.deactivate.segments_warning")))),f.push(o.a.createElement(oe.a,{key:"deactivate",label:Object(I.a)("site.deactivate.label"),onSelect:d(w.Sb)}))),a&&(g.push(o.a.createElement(Re.a,{key:"revert",name:w.Wb,id:t.get("siteId"),onConfirm:m,title:Object(I.a)("site.revert.title"),buttonText:Object(I.a)("button_label.revert")},o.a.createElement("p",null,Object(I.a)("site.revert.warning")),o.a.createElement("ol",null,o.a.createElement("li",null,Object(I.a)("site.revert.warning_consequence1")),o.a.createElement("li",null,Object(I.a)("site.revert.warning_consequence2"))))),f.push(o.a.createElement(oe.a,{key:"revert",label:Object(I.a)("site.revert.label"),onSelect:d(w.Wb)}))),[f,g]}(wn(wn({},e),a)),r=qt()(n,2),l=r[0],i=r[1];return l&&o.a.createElement(o.a.Fragment,null,i,o.a.createElement(ce.a,null,l))}Pn.propTypes={site:r.a.oneOfType([r.a.instanceOf(f.a.Map),r.a.instanceOf(f.a.Record)]),isAppManager:r.a.bool,isUnlistedAdmin:r.a.bool,isSegmentsEnabled:r.a.bool},Pn.defaultProps={isAppManager:!1,isUnlistedAdmin:!1,isSegmentsEnabled:!1};var kn=Object(l.connect)((function(e){return{isAppManager:Object(u.isCurrentUserAppManager)(e),isUnlistedAdmin:Object(u.isCurrentUserUnlistedAdmin)(e),isSegmentsEnabled:Object(Ve.V)(e),canCreateSite:Object(u.canCurrentUserCreateSite)(e)}}),(function(e,t){return{setCategory:function(a){return e(Object(Te.setCategory)([t.site.get("siteId")],a))},makePrivate:function(){return e(Object(Te.setPrivate)([t.site.get("siteId")],!0))},makePublic:function(){return e(Object(Te.setPrivate)([t.site.get("siteId")],!1))},activate:function(){return e(Object(Te.setActive)([t.site.get("siteId")],!0))},deactivate:function(){return e(Object(Te.setActive)([t.site.get("siteId")],!1))},revert:function(){return e(Object(Te.revertToChatterGroup)(t.site.get("siteId")))},duplicate:function(a,n){return e(Object(Te.duplicate)(t.site.get("siteId"),a,n))},openModal:function(a){return function(){return e(Object(te.open)(a,t.site.get("siteId")))}}}}))(Pn);function Nn(e){var t=e.site,a=e.children,n=t.get("canEdit")||t.get("isContentManager")?t.get("editUrl"):t.get("url");return t.get("isContentManager")&&(n+="/content"),o.a.createElement("tr",null,o.a.createElement("td",{className:"cell-details ".concat(t.get("isActive")?"cell-details--site":"cell-details--siteInactive")},o.a.createElement("div",{className:"excerpt ".concat(t.get("isActive")?"":"is-deactivated")},o.a.createElement("div",{className:"cell-emblemContainer"},o.a.createElement(ra.a,{img:t.get("img"),url:t.get("isActive")?n:null,ariaLabel:t.get("name")})),t.get("isActive")?o.a.createElement("h2",null,o.a.createElement("a",{className:"type--title",href:n},o.a.createElement(ta.a,{name:t.get("name"),access:t.get("access")})),t.get("isNew")&&o.a.createElement("span",{className:"u-marg-l--xsmall"},o.a.createElement(fn.a,{isBrand:!0,text:Object(I.a)("common.new"),hasNoMarginBottom:!0,hasVerticalAlignMiddle:!0}))):[o.a.createElement(fn.a,{text:Object(I.a)("common.deactivated"),key:"stamp"}),o.a.createElement("h2",{key:"name"},t.get("name"))])),o.a.createElement("td",{className:"cell-member-count"},t.get("peopleCount")||0),o.a.createElement("td",{className:"cell-category"},t.getIn(["category","name"])||"N/A"),o.a.createElement("td",{className:"cell-access"},Object(I.a)("site.access.".concat(t.get("access")))),o.a.createElement("td",{className:"table-options"},o.a.createElement("div",{className:"custom-input"},a||null),o.a.createElement(kn,{site:t})))}Nn.propTypes={site:r.a.oneOfType([r.a.instanceOf(f.a.Map),r.a.instanceOf(f.a.Record)])};var In=Nn;function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var An=function(e){H()(a,e);var t=Rn(a);function a(){return B()(this,a),t.apply(this,arguments)}return V()(a,[{key:"shouldComponentUpdate",value:function(e){return!f.a.is(this.props.sites,e.sites)||this.props.isLoading!==e.isLoading||this.props.canPaginate!==e.canPaginate||this.props.onLoadMore!==e.onLoadMore}},{key:"render",value:function(){var e=this.props,t=e.sites,a=e.isLoading,n=e.canPaginate,r=e.onLoadMore,c=e.itemComponent;return 0===t.size?a?o.a.createElement(re.a,null):o.a.createElement(ne.a,null):o.a.createElement("div",null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"cell-name"},Object(I.a)("manage_sites.table.name")),o.a.createElement("th",{className:"cell-member-count"},Object(I.a)("common.person_plural")),o.a.createElement("th",{className:"cell-category"},Object(I.a)("manage_sites.table.category")),o.a.createElement("th",{className:"cell-access"},Object(I.a)("manage_sites.table.access")),o.a.createElement("th",{className:"table-options"},Object(I.a)("manage_sites.table.options")))),o.a.createElement("tbody",null,t.map((function(e){return o.a.cloneElement(c,{site:e,key:e.siteId})})))),o.a.createElement(ae.a,{canLoad:n,onLoad:r,isLoading:a}))}}]),a}(o.a.Component);Z()(An,"propTypes",{sites:r.a.instanceOf(f.a.List),isLoading:r.a.bool,canPaginate:r.a.bool,onLoadMore:r.a.func,itemComponent:r.a.shape({})}),Z()(An,"defaultProps",{itemComponent:In});var xn=An;function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=J()(e);if(t){var r=J()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Y()(this,a)}}var Dn=function(e){var t=e.BulkCheckbox,a=ee()(e,["BulkCheckbox"]);return o.a.createElement(In,a,o.a.createElement(t,{id:a.site.get("siteId"),isDisabled:a.site.get("isContentManager")}))},Tn=function(e){H()(a,e);var t=Mn(a);function a(){var e;B()(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Z()(G()(e),"state",{selectedIds:null}),e}return V()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.sites,n=t.currentFilter,r=t.isLoading,c=t.canPaginate,l=t.onLoadMore,i=t.makePrivate,s=t.makePublic,u=t.activate,m=t.deactivate,d=t.updateCategory,p=t.openUpdateCategoryModal,b=function(t){return new f.a.List([new f.a.Map({label:Object(I.a)("site.make_private.label"),isVisible:"private"!==n&&"deactivated"!==n,invalidItemsMessage:Object(I.a)("manage_sites.bulk.make_private.invalid_warning_flash"),checkItemValid:function(e){return e.get("isActive")},onSelect:i}),new f.a.Map({label:Object(I.a)("site.make_public.label"),isVisible:"public"!==n&&"deactivated"!==n,onSelect:s}),new f.a.Map({label:Object(I.a)("site.deactivate.label"),isVisible:"deactivated"!==n,onSelect:function(e){m(e).then((function(){e.forEach((function(e){return t({siteId:e})}))}))}}),new f.a.Map({label:Object(I.a)("site.activate.label"),isVisible:"active"!==n,onSelect:u}),new f.a.Map({label:Object(I.a)("site.update_category.label"),isVisible:"deactivated"!==n,invalidItemsMessage:Object(I.a)("manage_sites.bulk.update_category.invalid_warning_flash"),checkItemValid:function(e){return e.get("isActive")},onSelect:function(t){return e.setState({selectedIds:t},p)}})])};return o.a.createElement(Ka.a.Consumer,null,(function(t){var n=t.removeRecentSite;return o.a.createElement(he.a,{items:a,actions:b(n),keyName:"siteId",showOptionsInFoot:!0},(function(t){var n=t.reset,i=t.BulkCheckbox;return o.a.createElement(o.a.Fragment,null,o.a.createElement(xn,{key:"sites",sites:a,isLoading:r,canPaginate:c,onLoadMore:l,itemComponent:o.a.createElement(Dn,{BulkCheckbox:i})}),o.a.createElement(Cn,{key:"update-category-modal",siteId:"multiple",onSubmit:function(t){return d(e.state.selectedIds,t).then(n)}}))}))}))}}]),a}(o.a.Component);Z()(Tn,"propTypes",{sites:r.a.instanceOf(f.a.Iterable).isRequired,currentFilter:r.a.string,isLoading:r.a.bool,canPaginate:r.a.bool,onLoadMore:r.a.func});var Fn=Object(l.connect)(null,(function(e){return{makePrivate:function(t){return e(Object(Te.setPrivate)(t,!0))},makePublic:function(t){return e(Object(Te.setPrivate)(t,!1))},activate:function(t){return e(Object(Te.setActive)(t,!0))},deactivate:function(t){return e(Object(Te.setActive)(t,!1))},updateCategory:function(t,a){return e(Object(Te.setCategory)(t,a))},openUpdateCategoryModal:function(){return e(Object(te.open)(w.Xb,"multiple"))}}}))(Tn);function Ln(){var e=Object(l.useSelector)(u.canCurrentUserCreateSite),t=Object(l.useSelector)(ze.g),a=Object(gn.b)({initialParams:new f.a.Map({canManage:!0,filter:"active"})}),n=a.setParams,r=a.params,i=a.sites,s=a.canPaginate,m=a.loadMore,d=a.loading,p=a.appendAfterId,b=Object(c.useCallback)((function(e){n({term:e.get("term")})}),[n]),g=Object(c.useCallback)((function(e){n({filter:e})}),[n]);return Object(c.useEffect)((function(){t.get("duplicateSiteId")&&p(t.get("originalSiteId"),t.get("duplicateSiteId"))}),[t]),o.a.createElement(O.a,{name:"ManageSites",text:Object(I.a)("page_title.manage_sites")},o.a.createElement("div",{className:"Page"},o.a.createElement(L,null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"medium-6 large-4 column"},o.a.createElement("div",{className:"u-marg-b--medium"},o.a.createElement(E.a,{placeholder:Object(I.a)("manage_sites.sites.placeholder"),initialValue:r.get("term"),onSubmit:b,ariaLabel:Object(I.a)("manage_sites.sites.placeholder")}))),o.a.createElement("div",{className:"medium-6 large-8 column"},o.a.createElement("div",{className:"filter filter-sites"},e&&o.a.createElement("div",{className:"u-floatRight u-marg-l--medium"},o.a.createElement(j.a,{linkTo:"/manage/sites/add?nextLinkTo=/manage/sites",appearance:"brand"},Object(I.a)("manage_sites.add_site_button.label"))),o.a.createElement("div",{className:"toolbar"},o.a.createElement(y.a,{selected:r.get("filter"),options:[{value:"active",label:Object(I.a)("common.active")},{value:"public",label:Object(I.a)("common.public")},{value:"private",label:Object(I.a)("common.private")},{value:"unlisted",label:Object(I.a)("common.unlisted")},{value:"deactivated",label:Object(I.a)("common.deactivated")},{value:"all",label:Object(I.a)("common.all")}],onChange:g}))))),o.a.createElement("div",{className:"index-content index-sites"},o.a.createElement(Fn,{sites:i,currentFilter:r.get("filter"),isLoading:d,canPaginate:s,onLoadMore:m}))))}function qn(e){var t=e.isAppManager;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column"},o.a.createElement(s.a,null,o.a.createElement(i.c,{exact:!0,path:"/manage/sites",component:Ln}),o.a.createElement(i.c,{exact:!0,path:"/manage/sites/add",component:bn}),t&&o.a.createElement(i.c,{exact:!0,path:"/manage/site-categories",component:je}),t&&o.a.createElement(i.c,{exact:!0,path:"/manage/chatter-groups",component:xe}),o.a.createElement(i.c,{path:"/manage/sites/request/:requestId",component:ln.a}),o.a.createElement(i.c,{path:"/manage/sites/:siteId",component:on}))))}qn.propTypes={isAppManager:r.a.bool};t.default=Object(l.connect)((function(e){return{isAppManager:Object(u.isCurrentUserAppManager)(e)}}))(qn)},821:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(408),E=a(1260),y=(a(217),a(176)),j=a(42);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var C=function(e){i()(a,e);var t=_(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.total,n=e.brandColor,r=Object(y.d)(n,t.length);return v.a.createElement("ul",{className:"ChartKey"},t&&t.map((function(e,t){return v.a.createElement("li",{className:"ChartKey-item",key:e.label},v.a.createElement("div",{className:"ChartKey-body"},v.a.createElement("div",{className:"ChartKey-legend"},v.a.createElement(E.a,{label:e.label,color:r[t],tooltip:e.tooltip})),v.a.createElement("span",{className:"ChartKey-value"},Object(j.b)(e.value,a))))})))}}]),a}(v.a.Component);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}b()(C,"propTypes",{data:f.a.arrayOf(f.a.shape({label:f.a.string.isRequired,value:f.a.number.isRequired})).isRequired,total:f.a.number,brandColor:f.a.string});var w=function(e){i()(a,e);var t=S(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.totalCount,a=e.data,n=e.brandColor,r=e.note,c=e.legend;return v.a.createElement("div",null,v.a.createElement("div",{className:"DoughnutChart"},v.a.createElement("div",{className:"DoughnutChart-value"},Object(j.c)(t),v.a.createElement("div",{className:"DoughnutChart-note"},r)),t>0?v.a.createElement(v.a.Fragment,null,v.a.createElement(O.a,{data:Object(y.c)({legend:c,data:a},n),type:"doughnut",width:250,height:250,options:{tooltips:{enabled:!1},hover:{mode:null}}})):v.a.createElement("div",{className:"DoughnutChart-blank-wrapper"},v.a.createElement("div",{className:"DoughnutChart-blank"}))),v.a.createElement(C,{data:a,brandColor:t>0?n:"#cccccc",total:t}))}}]),a}(v.a.Component);b()(w,"propTypes",{data:f.a.oneOfType([f.a.shape({}),f.a.array]),totalCount:f.a.number,brandColor:f.a.string,note:f.a.string}),b()(w,"defaultProps",{totalCount:0})},973:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return y}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(1),f=a.n(g),h=a(0),v=a.n(h),O=a(92);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var y=function(t){i()(n,t);var a=E(n);function n(){return r()(this,n),a.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,a=t.range,n=t.from,r=t.to,c=t.siteId,o=t.onlyPublished,l=t.children,i={};return void 0!==c&&(i.siteId=c),void 0!==o&&(i.onlyPublished=o),v.a.createElement(O.a,{endpoint:e.Simpplr.Salesforce.Analytics.getContentPublications,params:i,range:a,from:n,to:r},l)}}]),n}(v.a.Component);b()(y,"propTypes",{children:f.a.func.isRequired,range:f.a.number,from:f.a.string,to:f.a.string,siteId:f.a.string,onlyPublished:f.a.bool})}).call(this,a(27))},974:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(10),r=a.n(n),c=a(11),o=a.n(c),l=a(12),i=a.n(l),s=a(13),u=a.n(s),m=a(8),d=a.n(m),p=a(5),b=a.n(p),g=a(15),f=a.n(g),h=a(1),v=a.n(h),O=a(0),E=a.n(O);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var j=function(e){i()(a,e);var t=y(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.label,n=e.subheading,r=e.size,c=e.additionLabel,o=e.additionValue,l=f()(b()({ChartStats:!0},"ChartStats--".concat(r),!0));return E.a.createElement("div",{className:l},E.a.createElement("span",{className:"ChartStats-value"},t),E.a.createElement("span",{className:"ChartStats-label"},a),c&&o&&E.a.createElement("span",null," ",E.a.createElement("span",{className:"ChartStats-label"},"("),E.a.createElement("span",{className:"ChartStats-value"},o),E.a.createElement("span",{className:"ChartStats-label"},c),E.a.createElement("span",{className:"ChartStats-label"},")")),n&&E.a.createElement("div",{className:"ChartStats-subheading"},n))}}]),a}(E.a.Component);b()(j,"propTypes",{value:v.a.oneOfType([v.a.string,v.a.number]).isRequired,label:v.a.string.isRequired,subheading:v.a.node,size:v.a.oneOf(["small","xlarge"]),additionLabel:v.a.string,additionValue:v.a.number}),b()(j,"defaultProps",{size:"xlarge"})}}]);